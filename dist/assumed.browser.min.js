"use strict";var Assumed=(()=>{var $n=Object.defineProperty;var Mt=Object.getOwnPropertyDescriptor;var Ut=Object.getOwnPropertyNames;var Wt=Object.prototype.hasOwnProperty;var Pt=(n,t)=>{for(var r in t)$n(n,r,{get:t[r],enumerable:!0})},Jt=(n,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of Ut(t))!Wt.call(n,c)&&c!==r&&$n(n,c,{get:()=>t[c],enumerable:!(a=Mt(t,c))||a.enumerable});return n};var Vt=n=>Jt($n({},"__esModule",{value:!0}),n);var Us={};Pt(Us,{AssumingBus:()=>In,AssumptionError:()=>jn,IsArray:()=>ie,IsBoolean:()=>ce,IsDate:()=>ge,IsElement:()=>ue,IsNull:()=>ye,IsNumber:()=>oe,IsObject:()=>ae,IsString:()=>se,IsUndefined:()=>me,NotNull:()=>le,NotNullOrUndefined:()=>de,NotUndefined:()=>pe,assertArrayEveryFalsy:()=>q,assertArrayEveryTruthy:()=>D,assertArrayHasAnyOf:()=>an,assertArrayHasEveryOf:()=>un,assertArrayHasLength:()=>on,assertArrayIncludesNumber:()=>pn,assertArrayIncludesObject:()=>dn,assertArrayIncludesString:()=>mn,assertArrayItemIsBoolean:()=>cn,assertArrayItemIsNumber:()=>yn,assertArrayItemIsObject:()=>ln,assertArrayItemIsString:()=>gn,assertArrayNotEmpty:()=>B,assertArrayOnlyNumbers:()=>R,assertArrayOnlyObjects:()=>v,assertArrayOnlyStrings:()=>C,assertArrayUnique:()=>W,assertElementIsChildOf:()=>xn,assertIsArray:()=>S,assertIsBase64:()=>fe,assertIsBoolean:()=>j,assertIsDate:()=>N,assertIsElement:()=>I,assertIsNull:()=>F,assertIsNumber:()=>O,assertIsObject:()=>T,assertIsString:()=>A,assertIsUndefined:()=>$,assertNever:()=>re,assertNotNull:()=>J,assertNotNullOrUndefined:()=>k,assertNotUndefined:()=>V,assertObjectAllKeysSet:()=>H,assertObjectAnyKeyNull:()=>M,assertObjectHasKey:()=>fn,assertObjectHasKeys:()=>hn,assertObjectKeyEquals:()=>wn,assertObjectKeysExactly:()=>bn,assertStringContains:()=>Z,assertStringEndsWith:()=>X,assertStringEqualsIgnoreCase:()=>tn,assertStringEqualsIgnoreWhitespace:()=>Sn,assertStringHasLength:()=>z,assertStringIncludesAll:()=>rn,assertStringIncludesAny:()=>en,assertStringIsJSON:()=>L,assertStringLengthBetween:()=>_,assertStringMatches:()=>nn,assertStringMaxLength:()=>Y,assertStringMinLength:()=>G,assertStringNotEmpty:()=>K,assertStringOneOf:()=>sn,assertStringStartsWith:()=>Q,assertStringTrimmedNotEmpty:()=>U,assertions:()=>Hs,assertionsCatalog:()=>Kn,assume:()=>Zt,assumedRoute:()=>ee,assuming:()=>y,assumingBus:()=>En,assureAll:()=>Ms,assureArray:()=>Pn,assureArrayEveryFalsy:()=>$t,assureArrayEveryTruthy:()=>Ft,assureArrayHasAnyOf:()=>wt,assureArrayHasEveryOf:()=>bt,assureArrayHasLength:()=>ht,assureArrayIncludesNumber:()=>St,assureArrayIncludesObject:()=>Tt,assureArrayIncludesString:()=>Ot,assureArrayItemIsBoolean:()=>xt,assureArrayItemIsNumber:()=>kt,assureArrayItemIsObject:()=>At,assureArrayItemIsString:()=>Et,assureArrayNotEmpty:()=>ft,assureArrayOnlyNumbers:()=>jt,assureArrayOnlyObjects:()=>Nt,assureArrayOnlyStrings:()=>It,assureArrayUnique:()=>Kt,assureBoolean:()=>zn,assureDate:()=>Gn,assureElement:()=>Vn,assureElementIsChildOf:()=>he,assureNotNull:()=>_n,assureNotUndefined:()=>Qn,assureNull:()=>Yn,assureNumber:()=>Wn,assureObject:()=>Jn,assureObjectAllKeysSet:()=>Rt,assureObjectAnyKeyNull:()=>vt,assureObjectHasKey:()=>Lt,assureObjectHasKeys:()=>Bt,assureObjectKeyEquals:()=>Ct,assureObjectKeysExactly:()=>Dt,assurePresent:()=>Xn,assureString:()=>Un,assureStringContains:()=>ot,assureStringEndsWith:()=>at,assureStringEqualsIgnoreCase:()=>ct,assureStringEqualsIgnoreWhitespace:()=>dt,assureStringHasLength:()=>tt,assureStringIncludesAll:()=>yt,assureStringIncludesAny:()=>gt,assureStringIsJSON:()=>lt,assureStringLengthBetween:()=>st,assureStringMatches:()=>ut,assureStringMaxLength:()=>rt,assureStringMinLength:()=>et,assureStringNotEmpty:()=>nt,assureStringOneOf:()=>pt,assureStringStartsWith:()=>it,assureStringTrimmedNotEmpty:()=>mt,assureUndefined:()=>Zn,captureLocation:()=>Yt,clearAssumeHistory:()=>Xt,defRefHandler:()=>Ln,defRefHandlerAsync:()=>Nn,expectArray:()=>xe,expectBoolean:()=>ke,expectDate:()=>Ae,expectElement:()=>Oe,expectNotNullOrUndefined:()=>Se,expectNumber:()=>be,expectObject:()=>Ee,expectString:()=>we,getAssumeHistory:()=>Qt,isAlotLike:()=>qs,isAssumptionError:()=>_t,isBase64:()=>Bn,isLike:()=>On,mustBe:()=>Ls,mustBeArray:()=>vr,mustBeArrayEveryFalsy:()=>Os,mustBeArrayEveryTruthy:()=>As,mustBeArrayHasAnyOf:()=>ys,mustBeArrayHasEveryOf:()=>ls,mustBeArrayHasLength:()=>gs,mustBeArrayIncludesNumber:()=>ws,mustBeArrayIncludesObject:()=>bs,mustBeArrayIncludesString:()=>hs,mustBeArrayItemIsBoolean:()=>ms,mustBeArrayItemIsNumber:()=>ds,mustBeArrayItemIsObject:()=>fs,mustBeArrayItemIsString:()=>ps,mustBeArrayNotEmpty:()=>cs,mustBeArrayOnlyNumbers:()=>Es,mustBeArrayOnlyObjects:()=>ks,mustBeArrayOnlyStrings:()=>xs,mustBeArrayUnique:()=>Ss,mustBeBoolean:()=>Hr,mustBeDate:()=>Mr,mustBeElement:()=>qr,mustBeElementIsChildOf:()=>Ks,mustBeNull:()=>Ur,mustBeNumber:()=>Rr,mustBeObject:()=>Dr,mustBeObjectAllKeysSet:()=>Ns,mustBeObjectAnyKeyNull:()=>Fs,mustBeObjectHasKey:()=>Ts,mustBeObjectHasKeys:()=>Is,mustBeObjectKeyEquals:()=>js,mustBeObjectKeysExactly:()=>$s,mustBePresent:()=>Pr,mustBeString:()=>Cr,mustBeStringContains:()=>Qr,mustBeStringEndsWith:()=>ns,mustBeStringEqualsIgnoreCase:()=>es,mustBeStringEqualsIgnoreWhitespace:()=>us,mustBeStringHasLength:()=>Gr,mustBeStringIncludesAll:()=>ss,mustBeStringIncludesAny:()=>rs,mustBeStringIsJSON:()=>os,mustBeStringLengthBetween:()=>Zr,mustBeStringMatches:()=>ts,mustBeStringMaxLength:()=>_r,mustBeStringMinLength:()=>Yr,mustBeStringNotEmpty:()=>zr,mustBeStringOneOf:()=>as,mustBeStringStartsWith:()=>Xr,mustBeStringTrimmedNotEmpty:()=>is,mustBeUndefined:()=>Wr,mustExist:()=>Vr,mustExists:()=>Jr,report:()=>Bs,reportAssertions:()=>Ht,safeToAssume:()=>Gt,setAssumeHistoryLimit:()=>ne,sureArray:()=>je,sureArrayEveryFalsy:()=>dr,sureArrayEveryTruthy:()=>pr,sureArrayHasAnyOf:()=>er,sureArrayHasEveryOf:()=>rr,sureArrayHasLength:()=>tr,sureArrayIncludesNumber:()=>cr,sureArrayIncludesObject:()=>gr,sureArrayIncludesString:()=>ur,sureArrayItemIsBoolean:()=>sr,sureArrayItemIsNumber:()=>ir,sureArrayItemIsObject:()=>ar,sureArrayItemIsString:()=>or,sureArrayNotEmpty:()=>nr,sureArrayOnlyNumbers:()=>lr,sureArrayOnlyObjects:()=>mr,sureArrayOnlyStrings:()=>yr,sureArrayUnique:()=>fr,sureBoolean:()=>$e,sureDate:()=>Ke,sureElement:()=>Fe,sureElementIsChildOf:()=>qt,sureIsArray:()=>Sr,sureIsBoolean:()=>jr,sureIsDate:()=>Nr,sureIsElement:()=>Ir,sureIsNull:()=>Fr,sureIsNumber:()=>Or,sureIsObject:()=>Tr,sureIsString:()=>Ar,sureIsUndefined:()=>$r,sureNotNil:()=>Kr,sureNotNull:()=>Be,sureNotNullBound:()=>Lr,sureNotUndefined:()=>Re,sureNotUndefinedBound:()=>Br,sureNull:()=>Le,sureNumber:()=>Ie,sureObject:()=>Ne,sureObjectAllKeysSet:()=>xr,sureObjectAnyKeyNull:()=>Er,sureObjectHasKey:()=>hr,sureObjectHasKeys:()=>wr,sureObjectKeyEquals:()=>br,sureObjectKeysExactly:()=>kr,surePresent:()=>ve,sureString:()=>Te,sureStringContains:()=>We,sureStringEndsWith:()=>Je,sureStringEqualsIgnoreCase:()=>ze,sureStringEqualsIgnoreWhitespace:()=>Xe,sureStringHasLength:()=>qe,sureStringIncludesAll:()=>Ye,sureStringIncludesAny:()=>Ge,sureStringIsJSON:()=>_e,sureStringLengthBetween:()=>Ue,sureStringMatches:()=>Ve,sureStringMaxLength:()=>Me,sureStringMinLength:()=>He,sureStringNotEmpty:()=>De,sureStringOneOf:()=>Qe,sureStringStartsWith:()=>Pe,sureStringTrimmedNotEmpty:()=>Ze,sureUndefined:()=>Ce,that:()=>l});var Tn=["unknown","string","number","array","object","element","datetime","boolean","null","undefined","present"],In=class extends EventTarget{map=new Map;on(t,r){let a=this.map.get(t)??new Set;return a.add(r),this.map.set(t,a),()=>this.off(t,r)}off(t,r){let a=this.map.get(t);a&&(a.delete(r),a.size===0&&this.map.delete(t))}once(t,r){let a=this.on(t,c=>{a();try{r(c)}catch{}});return a}emit(t,r){let a=this.map.get(t);if(a)for(let c of Array.from(a))try{c(r)}catch{}}addEventListener(t,r,a){this.on(t,r)}dispatchEvent(t){return this.emit(t.type,t),!0}removeEventListener(t,r,a){this.off(t,r)}},En=new In;function zt(n,t){return t==null?n:typeof t=="string"?{...n,message:t}:{...n,...t}}function y(...n){let t={quiet:!1,message:"Assumption failed"};if(n.length){let g=n[n.length-1];(typeof g=="string"||g&&typeof g=="object"&&typeof g!="function"&&typeof g!="boolean")&&(t=zt(t,g),n.pop())}let r=[],a=n.filter(g=>g!=null&&(typeof g=="function"||typeof g=="boolean")).map(g=>{if(typeof g=="function"){try{let p=g.raw?.()??g.value?.();p!==void 0&&r.push(p)}catch{}return g}return()=>g}),c,o=!1;try{for(let g of a)if(g()===!1){o=!0;break}}catch(g){o=!0,c=g}let f=[],i=!1,h=()=>{if(!i){En.emit(o?"assuming:fail":"assuming:pass"),En.emit(o?"assume:refuted":"assume:vindicated"),!o&&t.emit&&En.emit(t.emit);for(let g of f){let p=!1;try{p=!!g.cond()}catch(x){console.error("emitOn predicate threw:",x)}if(p){let x;try{x=g.data?g.data():r.length>0?r[0]:void 0}catch(e){console.error("emitOn data producer threw:",e)}En.emit(g.event,x)}}i=!0}};if(o&&!t.quiet){let g=t.message??(c instanceof Error?c.message:"Assumption failed");throw c instanceof Error?c:new Error(g)}let b,Cn=g=>g??t.message??(c instanceof Error?c.message:"Assumptions not satisfied"),E={emitOnPass(g,p){return f.push({cond:()=>!o,event:g,data:p===void 0?()=>r.length>0?r[0]:void 0:typeof p=="function"?p:()=>p}),E},emitOnFail(g,p){return f.push({cond:()=>o,event:g,data:p===void 0?()=>r.length>0?r[0]:void 0:typeof p=="function"?p:()=>p}),E},emitOn(g,p,x){let e=typeof g=="function"?g:()=>!!g,s=x===void 0?()=>r.length>0?r[0]:void 0:typeof x=="function"?x:()=>x;return f.push({cond:e,event:p,data:s}),E},Run(g){return h(),o||(b=g()),E},RunWithValue(g){return h(),o||(b=g(b)),E},value(){return h(),b},returnBoolean(){return h(),!o},onRefuted(g){return h(),o&&(b=g(c)),E},onVindicated(g){return h(),o||(b=g()),E},unless(g,p){return h(),(typeof g=="function"?!!g():!!g)||(b=p()),E},catch(g){return h(),o&&(b=g(c)),E},eitherOr(g,p,x){t.quiet=!0,h();let e=r.length>0?r[0]:void 0;if(!o)return b=g(e);if(p&&!c)return b=p(e);if(x)return b=x(c)},result(g,p){if(h(),!o)return b=g();if(p)return b=p(c)},status(){return h(),{failed:o,error:c,lastResult:b}},message(g){return t.message=g,E},quiet(g=!0){return t.quiet=g,E},options(){return{...t}}};return E}function Gt(...n){try{return n.length===1&&typeof n[0]=="function"?(n[0](),!0):(y(...n),!0)}catch(t){return console.log("Well... that assumption turned out to be unfounded:",t.message),!1}}var kn=[],qn=200;function P(n){kn.push(n),kn.length>qn&&kn.shift()}function Hn(n){try{return n==null?String(n):typeof n=="string"?n.length>120?n.slice(0,117)+"...":n:typeof n=="number"||typeof n=="boolean"?String(n):Array.isArray(n)?`Array(${n.length})`:typeof n=="object"?`{${Object.keys(n).slice(0,6).join(",")}${Object.keys(n).length>6?",\u2026":""}}`:typeof n}catch{return}}var Yt=(()=>{let n=new Error().stack;if(n)return n.split(`
`).find(a=>a.includes("at ")&&!a.includes("assume.js")&&!a.includes("assume.ts"))?.trim().replace("at ","")||"unknown"})(),jn=class extends Error{name="AssumptionError";assumeStack;valuePreview;timestamp;cause;chainTrace;captureLocation;constructor(t,r){super(t),Object.setPrototypeOf(this,new.target.prototype),this.assumeStack=r.stack,this.valuePreview=Hn(r.value),this.timestamp=Date.now(),this.cause=r.cause,this.chainTrace=r.chainTrace||[],this.captureLocation=r.captureLocation,this.message=this.buildRichMessage(t,r.inferenceText)}buildRichMessage(t,r){let a=[`AssumptionError: ${t}`];return this.valuePreview&&a.push(`Value: ${this.valuePreview}`),this.chainTrace.length>0&&a.push(`Chain: ${this.chainTrace.join(" \u2192 ")}`),this.captureLocation&&a.push(`Created at: ${this.captureLocation}`),r&&a.push(r),a.join(`
  `)}};function _t(n){return!!n&&typeof n=="object"&&n.name==="AssumptionError"}function Mn(n){let t=[],r=[],a=(()=>{try{let e=new Error().stack;if(e)return e.split(`
`).find(m=>m.includes("at ")&&!m.includes("assume.js")&&!m.includes("assume.ts"))?.trim().replace("at ","")||"unknown"}catch{}})();P({t:Date.now(),kind:"start",info:{valuePreview:Hn(n)}});let c=()=>{try{for(let e of t)e.check();return P({t:Date.now(),kind:"vindicated"}),!0}catch(e){return P({t:Date.now(),kind:"refuted",info:{message:String(e)}}),!1}},o=function(){return c()};function f(e){return e===null?"null":Array.isArray(e)?"Array":typeof e=="object"?e.constructor?.name||"Object":typeof e}let i=(e,s="unknown",u)=>{if(u){let d=f(n);r.push(`${d}.${u}`)}let m=()=>{try{e(),P({t:Date.now(),kind:"check",info:{type:s,op:u}})}catch(d){P({t:Date.now(),kind:"refuted",info:{message:String(d)}});let w,Fn=new jn(String(d),{stack:t.slice(),value:n,cause:d,chainTrace:r.slice(),captureLocation:a,inferenceText:w});throw console.log("\u{1F4F0} ASSUMPTION ERROR:",Fn.message),P({t:Date.now(),kind:"refuted",info:{message:Fn.message}}),Fn}};t.push({check:m,type:s,methodName:u})};Object.assign(o,{or(e,s){let u=t.splice(0);return i(()=>{let m=!0;try{for(let w of u)w.check()}catch{m=!1}if(m)return;let d=!0;try{typeof e=="function"?e()===!1&&(d=!1):d=!!e}catch(w){throw w}if(!d)throw new Error(s??"Assumption failed (or)")},"unknown","or"),o},andGuard(e,s){return i(()=>{if(!e(n))throw new Error(s??"Assumption failed (andGuard)")},"unknown","andGuard"),o},and(e,s){return i(()=>{let u=!0;if(typeof e=="function"){let m=e;try{m()===!1&&(u=!1)}catch(d){throw d}}else u=!!e;if(!u)throw new Error(s??"Assumption failed (and)")},"unknown","and"),o},that(e,s){return i(()=>{if(typeof e=="function"){if(!e(n))throw new Error(s??"Assumption failed")}else if(typeof e=="boolean"){if(!e)throw new Error(s??"Assumption failed")}else throw new Error("Predicate must be a function or boolean")},"unknown","that"),o},instanceof(e,s){let u=typeof e=="function",m=u?s:e;if(u){let d=e;return i(()=>{if(!(n instanceof d))throw new Error(m??"Assumption failed: value is not instance of expected")},Tn.find(w=>w===f(n))||Tn.find(w=>w===typeof n)||"unknown",`instanceof(${d.name||"Constructor"})`),o}else return i(()=>{if(typeof n!="object"||n===null)throw new Error(m??"Expected constructor instance")},Tn.find(d=>d===f(n))||Tn.find(d=>d===typeof n)||"unknown","instanceof('base')"),o},equals(e,s){return i(()=>{if(n!==e)throw new Error(s??"Assumption failed: value !== expected")},"unknown",`equals(${JSON.stringify(e)})`),o},value(){if(!o())throw new Error("Assumption failed");return n},commit(){return this.value()}}),Object.defineProperty(o,"it",{get(){return o.value()},enumerable:!1,configurable:!1}),Object.defineProperty(o,"$",{get(){return o.value()},enumerable:!1,configurable:!1}),o.raw=()=>n;let b=()=>Object.assign(o,{greaterThan(e,s){return i(()=>{if(!(n>e))throw new Error(s??`Expected > ${e}`)},"number",`greaterThan(${e})`),o},greaterOrEqual(e,s){return i(()=>{if(!(n>=e))throw new Error(s??`Expected >= ${e}`)},"number",`greaterOrEqual(${e})`),o},lessThan(e,s){return i(()=>{if(!(n<e))throw new Error(s??`Expected < ${e}`)},"number",`lessThan(${e})`),o},lessOrEqual(e,s){return i(()=>{if(!(n<=e))throw new Error(s??`Expected <= ${e}`)},"number",`lessOrEqual(${e})`),o},between(e,s,u){return i(()=>{let m=n;if(!(m>=e&&m<=s))throw new Error(u??`Expected between ${e} and ${s}`)},"number",`between(${e},${s})`),o}}),Cn=()=>Object.assign(o,{notEmpty(e){return i(()=>{if(String(n).length===0)throw new Error(e??"Expected non-empty string")},"string","notEmpty"),o},lengthMustBe(e,s){return i(()=>{if(String(n).length!==e)throw new Error(s??`Expected length ${e}`)},"string",`lengthMustBe(${e})`),o},lengthAtLeast(e,s){return i(()=>{if(String(n).length<e)throw new Error(s??`Expected length >= ${e}`)},"string",`lengthAtLeast(${e})`),o},lengthAtMost(e,s){return i(()=>{if(String(n).length>e)throw new Error(s??`Expected length <= ${e}`)},"string",`lengthAtMost(${e})`),o},hasLength(e,s){return this.lengthMustBe(e,s)},minLength(e,s){return this.lengthAtLeast(e,s)},maxLength(e,s){return this.lengthAtMost(e,s)},lengthBetween(e,s,u){return i(()=>{let m=String(n).length;if(m<e||m>s)throw new Error(u??`Expected length between ${e} and ${s}`)},"string",`lengthBetween(${e},${s})`),o},contains(e,s){return i(()=>{let u=String(n);if(!(typeof e=="string"?u.includes(e):e.test(u)))throw new Error(s??`Expected to contain ${String(e)}`)},"string",`contains(${typeof e=="string"?`"${e}"`:e.toString()})`),o},startsWith(e,s){return i(()=>{if(!String(n).startsWith(e))throw new Error(s??`Expected to start with "${e}"`)},"string",`startsWith("${e}")`),o},endsWith(e,s){return i(()=>{if(!String(n).endsWith(e))throw new Error(s??`Expected to end with "${e}"`)},"string",`endsWith("${e}")`),o},matches(e,s){return i(()=>{if(!e.test(String(n)))throw new Error(s??`Expected to match ${e}`)},"string",`matches(${e.toString()})`),o},equalsIgnoreCase(e,s){return i(()=>{if(String(n).toLowerCase()!==e.toLowerCase())throw new Error(s??`Expected "${e}" (case-insensitive)`)},"string",`equalsIgnoreCase("${e}")`),o},includesAny(...e){return i(()=>{let s=String(n);if(!e.some(u=>s.includes(u)))throw new Error(`Expected any of [${e.join(", ")}]`)},"string",`includesAny(${e.map(s=>`"${s}"`).join(",")})`),o},includesAll(...e){return i(()=>{let s=String(n);if(!e.every(u=>s.includes(u)))throw new Error(`Expected all of [${e.join(", ")}]`)},"string",`includesAll(${e.map(s=>`"${s}"`).join(",")})`),o},isJSON(e){return i(()=>{try{JSON.parse(String(n))}catch{throw new Error(e??"Expected valid JSON")}},"string","isJSON"),o},trimmedNotEmpty(e){return i(()=>{if(String(n).trim().length===0)throw new Error(e??"Expected non-empty (trimmed)")},"string","trimmedNotEmpty"),o}}),E=()=>Object.assign(o,{lengthMustBe(e,s){return i(()=>{if(n.length!==e)throw new Error(s??`Expected array length ${e}`)},"array",`lengthMustBe(${e})`),o},hasLength(e,s){return this.lengthMustBe(e,s)},notEmpty(e){return i(()=>{if(n.length===0)throw new Error(e??"Expected non-empty array")},"array","notEmpty"),o},hasAnyOf(e,s){return i(()=>{let u=n,m=new Set(e);if(!u.some(w=>m.has(String(w))||m.has(w)))throw new Error(s??`Expected array to contain any of [${e.join(", ")}]`)},"array",`hasAnyOf([${e.length}])`),o},hasEveryOf(e,s){return i(()=>{let u=n,m=new Set(u.map(w=>typeof w=="string"?w:String(w))),d=e.filter(w=>!m.has(w));if(d.length>0)throw new Error(s??`Missing required items: [${d.join(", ")}]`)},"array",`hasEveryOf([${e.length}])`),o},hasAllOf(e,s){return this.hasEveryOf(e,s)},itemIsBoolean(e,s){return i(()=>{if(typeof n[e]!="boolean")throw new Error(s??`Expected boolean at ${e}`)},"array",`itemIsBoolean(${e})`),o},itemIsString(e,s){return i(()=>{if(typeof n[e]!="string")throw new Error(s??`Expected string at ${e}`)},"array",`itemIsString(${e})`),o},itemIsNumber(e,s){return i(()=>{if(typeof n[e]!="number")throw new Error(s??`Expected number at ${e}`)},"array",`itemIsNumber(${e})`),o},itemIsObject(e,s){return i(()=>{let u=n[e];if(typeof u!="object"||u===null||Array.isArray(u))throw new Error(s??`Expected object at ${e}`)},"array",`itemIsObject(${e})`),o},includesString(e,s){return i(()=>{if(!n.some(u=>String(u).includes(e)))throw new Error(s??`Expected string including "${e}"`)},"array",`includesString("${e}")`),o},includesNumber(e,s){return i(()=>{if(!n.some(u=>u===e))throw new Error(s??`Expected number including "${e}"`)},"array",`includesNumber(${e})`),o},includesObject(e,s){return i(()=>{if(!n.some(u=>JSON.stringify(u)===JSON.stringify(e)))throw new Error(s??`Expected object including "${JSON.stringify(e)}"`)},"array",`includesObject(${JSON.stringify(e)})`),o},onlyHasObjects(e){return i(()=>{if(!n.every(s=>typeof s=="object"&&s!==null&&!Array.isArray(s)))throw new Error(e??"Expected all objects")},"array","onlyHasObjects"),o},onlyHasStrings(e){return i(()=>{if(!n.every(s=>typeof s=="string"))throw new Error(e??"Expected all strings")},"array","onlyHasStrings"),o},onlyHasNumbers(e){return i(()=>{if(!n.every(s=>typeof s=="number"))throw new Error(e??"Expected all numbers")},"array","onlyHasNumbers"),o},everyIsFalsy(e){return i(()=>{if(!n.every(s=>!s))throw new Error(e??"Expected all falsy")},"array","everyIsFalsy"),o},everyIsTruthy(e){return i(()=>{if(!n.every(s=>!!s))throw new Error(e??"Expected all truthy")},"array","everyIsTruthy"),o},includesCondition(e,s){return i(()=>{if(!n.some(e))throw new Error(s??"Expected array to include condition")},"array","includesCondition"),o}}),g=()=>Object.assign(o,{hasKey(e,s){return i(()=>{if(!(e in n))throw new Error(s??`Expected key "${e}"`)},"object",`hasKey("${e}")`),o},hasKeys(...e){return i(()=>{for(let s of e)if(!(s in n))throw new Error(`Expected key "${s}"`)},"object",`hasKeys(${e.map(s=>`"${s}"`).join(",")})`),o},keyEquals(e,s,u){return i(()=>{if(n[e]!==s)throw new Error(u??`Expected ${e} === ${String(s)}`)},"object",`keyEquals("${e}",${JSON.stringify(s)})`),o},sameKeys(e,s){return i(()=>{let u=Object.keys(n),m=Object.keys(e);if(u.length!==m.length)throw new Error(s??"Key count mismatch");for(let d of m)if(!(d in n))throw new Error(s??`Missing key "${d}"`)},"object","sameKeys"),o},allKeysFalsy(e){return i(()=>{for(let s in n)if(n[s])throw new Error(e??`Key "${s}" not falsy`)},"object","allKeysFalsy"),o},allKeysSet(e){return i(()=>{for(let s in n)if(n[s]===void 0)throw new Error(e??`Key "${s}" unset`)},"object","allKeysSet"),o},anyKeyNull(e){return i(()=>{let s=!1;for(let u in n)if(n[u]===null){s=!0;break}if(!s)throw new Error(e??"No null key")},"object","anyKeyNull"),o}}),p=()=>Object.assign(o,{hasChildren(e){return i(()=>{let s=n;if(typeof Element>"u"||!(s instanceof Element)||s.childElementCount===0)throw new Error(e??"Expected child elements")},"element","hasChildren"),o},hasChild(e){return i(()=>{let s=n;if(typeof Element>"u"||!(s instanceof Element)||s.childElementCount===0)throw new Error(e??"Expected child elements")},"element","hasChild"),o},hasChildMatching(e,s){return i(()=>{let u=n;if(typeof Element>"u"||!(u instanceof Element)||!u.querySelector(e))throw new Error(s??`Missing child "${e}"`)},"element",`hasChildMatching("${e}")`),o},hasDescendant(e,s){return i(()=>{let u=n;if(typeof Element>"u"||!(u instanceof Element)||!u.querySelector(e))throw new Error(s??`Missing descendant "${e}"`)},"element",`hasDescendant("${e}")`),o},hasAttribute(e,s){return i(()=>{let u=n;if(typeof Element>"u"||!(u instanceof Element)||!u.hasAttribute(e))throw new Error(s??`Missing attribute "${e}"`)},"element",`hasAttribute("${e}")`),o},attributeEquals(e,s,u){return i(()=>{let m=n;if(typeof Element>"u"||!(m instanceof Element)||m.getAttribute(e)!==s)throw new Error(u??`Attr "${e}" != "${s}"`)},"element",`attributeEquals("${e}","${s}")`),o}});return o.isNumber=e=>(i(()=>{if(typeof n!="number")throw new Error(e??"Expected number")},"number","isNumber"),b()),o.isString=e=>(i(()=>{if(typeof n!="string")throw new Error(e??"Expected string")},"string","isString"),Cn()),o.isArray=e=>(i(()=>{if(!Array.isArray(n))throw new Error(e??"Expected array")},"array","isArray"),E()),o.isObject=e=>(i(()=>{if(typeof n!="object"||n===null||Array.isArray(n))throw new Error(e??"Expected object")},"object","isObject"),g()),o.isElement=e=>(i(()=>{if(typeof Element>"u"||!(n instanceof Element))throw new Error(e??"Expected Element")},"element","isElement"),p()),o.isDate=e=>(i(()=>{if(!(n instanceof Date))throw new Error(e??"Expected Date instance")},"datetime","isDate"),x()),o.isBoolean=e=>(i(()=>{if(typeof n!="boolean")throw new Error(e??"Expected boolean")},"boolean","isBoolean"),o),o.isNull=e=>(i(()=>{if(n!==null)throw new Error(e??"Expected null")},"null","isNull"),o),o.isUndefined=e=>(i(()=>{if(n!==void 0)throw new Error(e??"Expected undefined")},"undefined","isUndefined"),o),o.notNil=e=>(i(()=>{if(n==null)throw new Error(e??"Expected value (not null/undefined)")},"present","notNil"),o),o.notNull=e=>(i(()=>{if(n===null)throw new Error(e??"Expected not null")},"present","notNull"),o),o.notNullOrUndefined=e=>(i(()=>{if(n==null)throw new Error(e??"Expected value (not null/undefined)")},"present","notNullOrUndefined"),o),o;function x(){return Object.assign(o,{earlier(e,s){return i(()=>{let u=n.getTime(),m=typeof e=="number"?e:e.getTime();if(!(u<m))throw new Error(s??`Expected earlier than ${new Date(m).toISOString()}`)},"datetime",`earlier(${typeof e=="number"?e:e.toISOString()})`),o},later(e,s){return i(()=>{let u=n.getTime(),m=typeof e=="number"?e:e.getTime();if(!(u>m))throw new Error(s??`Expected later than ${new Date(m).toISOString()}`)},"datetime",`later(${typeof e=="number"?e:e.toISOString()})`),o},isYear(e,s){return i(()=>{if(n.getFullYear()!==e)throw new Error(s??`Expected year ${e}`)},"datetime",`isYear(${e})`),o},wasBefore(e,s){return i(()=>{let u=n.getTime(),m=typeof e=="number"?e:e.getTime();if(!(u<m))throw new Error(s??`Expected before ${new Date(m).toISOString()}`)},"datetime",`wasBefore(${typeof e=="number"?e:e.toISOString()})`),o},daysAgoExceeds(e,s){return i(()=>{let u=Date.now(),m=n.getTime();if(!((u-m)/(1e3*60*60*24)>e))throw new Error(s??`Expected more than ${e} days ago`)},"datetime",`daysAgoExceeds(${e})`),o},daysSinceAtLeast(e,s){return i(()=>{let u=Date.now(),m=n.getTime();if(!((u-m)/(1e3*60*60*24)>=e))throw new Error(s??`Expected at least ${e} days since`)},"datetime",`daysSinceAtLeast(${e})`),o}})}}function l(n){return Mn(n)}function Zt(n){return Mn(n)}function Qt(){return kn.slice()}function Xt(){kn.length=0}function ne(n){qn=Math.max(0,n|0)}function te(n){return n.displayName||n.name||"anonymous"}function An(n,t){let r=te(t);if(n&&typeof n=="object")try{n.handlerName=r,n.message&&typeof n.message=="string"&&(n.message=`[${r}] ${n.message}`)}catch{}return n}function Ln(n,t=!1){return r=>(console.error(r),An(r,Ln),t&&(typeof t=="function"?t:console.error)(r),n)}function Nn(n,t=!1){return async r=>(An(r,Nn),console.error(r),t&&(typeof t=="function"?t:console.error)(r),n)}function ee(n,t,r=!1){return(...a)=>{try{let c=t(...a);if(c&&typeof c.then=="function"){let o=Nn(n,r);return c.catch(f=>o(An(f,t)))}return c}catch(c){return t?.constructor?.name==="AsyncFunction"?Nn(n,r)(An(c,t)):Ln(n,r)(An(c,t))}}}function A(n,t){y(l(n).isString(),t)}function O(n,t){y(l(n).isNumber(),t)}function S(n,t){y(l(n).isArray(),t)}function T(n,t){y(l(n).isObject(),t)}function I(n,t){y(l(n).isElement(),t)}function j(n,t){y(l(n).isBoolean(),t)}function N(n,t){y(l(n).isDate(),t)}function F(n,t){y(l(n).isNull(),t)}function J(n,t){y(l(n).notNull(),t)}function $(n,t){y(l(n).isUndefined(),t)}function V(n,t){y(l(n).notNullOrUndefined(),t)}function k(n,t){y(l(n).notNullOrUndefined(),t)}function re(n,t){throw new Error(t??`Unexpected value: ${String(n)}`)}var se=A,oe=O,ie=S,ae=T,ue=I,ce=j,ge=N,ye=F,le=J,me=$,pe=V,de=k,Un=A,Wn=O,Pn=S,Jn=T,Vn=I,zn=j,Gn=N,Yn=F,_n=J,Zn=$,Qn=V,Xn=k;function K(n,t){y(l(n).isString().notEmpty(),t)}function z(n,t,r){y(l(n).isString().hasLength(t),r)}function G(n,t,r){y(l(n).isString().minLength(t),r)}function Y(n,t,r){y(l(n).isString().maxLength(t),r)}function _(n,t,r,a){y(l(n).isString().lengthBetween(t,r),a)}function Z(n,t,r){y(l(n).isString().contains(t),r)}function Q(n,t,r){y(l(n).isString().startsWith(t),r)}function X(n,t,r){y(l(n).isString().endsWith(t),r)}function nn(n,t,r){y(l(n).isString().matches(t),r)}function tn(n,t,r){y(l(n).isString().equalsIgnoreCase(t),r)}function en(n,t,r){y(l(n).isString().includesAny(...t),r)}function rn(n,t,r){y(l(n).isString().includesAll(...t),r)}function L(n,t){y(l(n).isString().isJSON(),t)}function sn(n,t,r){y(l(n).isString().that(a=>t.includes(a),r??`Expected one of [${t.join(", ")}]`),r)}function Sn(n,t,r=!1,a){y(l(n).isString().that(c=>{let o=f=>r?f.replace(/\s+/g,""):f.trim();return o(c)===o(t)},a??`Expected string to equal (ignoring ${r?"all whitespace":"edges"})`),a)}function Bn(n,t){let r=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;y(l(n).isString().that(a=>r.test(a),t??"Expected Base64 string"),t)}var fe=Bn;function B(n,t){y(l(n).isArray().notEmpty(),t)}function on(n,t,r){y(l(n).isArray().hasLength(t),r)}function an(n,t,r){y(l(n).isArray().hasAnyOf(t),r)}function un(n,t,r){y(l(n).isArray().hasEveryOf(t),r)}function cn(n,t,r){y(l(n).isArray().itemIsBoolean(t),r)}function gn(n,t,r){y(l(n).isArray().itemIsString(t),r)}function yn(n,t,r){y(l(n).isArray().itemIsNumber(t),r)}function ln(n,t,r){y(l(n).isArray().itemIsObject(t),r)}function mn(n,t,r){y(l(n).isArray().includesString(t),r)}function pn(n,t,r){y(l(n).isArray().includesNumber(t),r)}function dn(n,t,r){y(l(n).isArray().includesObject(t),r)}function C(n,t){y(l(n).isArray().onlyHasStrings(),t)}function R(n,t){y(l(n).isArray().onlyHasNumbers(),t)}function v(n,t){y(l(n).isArray().onlyHasObjects(),t)}function D(n,t){y(l(n).isArray().everyIsTruthy(),t)}function q(n,t){y(l(n).isArray().everyIsFalsy(),t)}function fn(n,t,r){y(l(n).isObject().hasKey(t),r)}function hn(n,t,r){y(l(n).isObject().hasKeys(...t),r)}function wn(n,t,r,a){y(l(n).isObject().keyEquals(t,r),a)}function H(n,t){y(l(n).isObject().allKeysSet(),t)}function M(n,t){y(l(n).isObject().anyKeyNull(),t)}function bn(n,t,r){let a=Object.fromEntries(t.map(c=>[c,!0]));y(l(n).isObject().sameKeys(a),r)}function xn(n,t,r){y(l(n).isElement().that(a=>{let c=a;if(typeof t=="string")return!!c.closest(t);let o=c;for(;o;){if(o===t)return!0;o=o.parentElement}return!1},r??"Expected element to be a descendant of parent"),r)}var nt=K,tt=z,et=G,rt=Y,st=_,ot=Z,it=Q,at=X,ut=nn,ct=tn,gt=en,yt=rn,lt=L,mt=U,pt=sn,dt=Sn,ft=B,ht=on,wt=an,bt=un,xt=cn,Et=gn,kt=yn,At=ln,Ot=mn,St=pn,Tt=dn,It=C,jt=R,Nt=v,Ft=D,$t=q,Kt=W,Lt=fn,Bt=hn,Ct=wn,Rt=H,vt=M,Dt=bn,he=xn;function U(n,t){y(l(n).isString().that(r=>r.trim().length>0,t??"Expected non-empty (trimmed)"),t)}function W(n,t){y(l(n).isArray().that(r=>new Set(r).size===r.length,t??"Expected array items to be unique"),t)}function we(n,t){return A(n,t),n}function be(n,t){return O(n,t),n}function xe(n,t){return S(n,t),n}function Ee(n,t){return T(n,t),n}function ke(n,t){return j(n,t),n}function Ae(n,t){return N(n,t),n}function Oe(n,t){return I(n,t),n}function Se(n,t){return k(n,t),n}var Te=A,Ie=O,je=S,Ne=T,Fe=I,$e=j,Ke=N,Le=F,Be=J,Ce=$,Re=V,ve=k,De=K,qe=z,He=G,Me=Y,Ue=_,We=Z,Pe=Q,Je=X,Ve=nn,ze=tn,Ge=en,Ye=rn,_e=L,Ze=U,Qe=sn,Xe=Sn,nr=B,tr=on,er=an,rr=un,sr=cn,or=gn,ir=yn,ar=ln,ur=mn,cr=pn,gr=dn,yr=C,lr=R,mr=v,pr=D,dr=q,fr=W,hr=fn,wr=hn,br=wn,xr=H,Er=M,kr=bn,qt=xn,Ar=(n,t)=>()=>A(n,t),Or=(n,t)=>()=>O(n,t),Sr=(n,t)=>()=>S(n,t),Tr=(n,t)=>()=>T(n,t),Ir=(n,t)=>()=>I(n,t),jr=(n,t)=>()=>j(n,t),Nr=(n,t)=>()=>N(n,t),Fr=(n,t)=>()=>F(n,t),$r=(n,t)=>()=>$(n,t),Kr=(n,t)=>()=>k(n,t),Lr=(n,t)=>()=>J(n,t),Br=(n,t)=>()=>V(n,t),Cr=A,Rr=O,vr=S,Dr=T,qr=I,Hr=j,Mr=N,Ur=F,Wr=$,Pr=k,Jr=k,Vr=k,zr=K,Gr=z,Yr=G,_r=Y,Zr=_,Qr=Z,Xr=Q,ns=X,ts=nn,es=tn,rs=en,ss=rn,os=L,is=U,as=sn,us=Sn,cs=B,gs=on,ys=an,ls=un,ms=cn,ps=gn,ds=yn,fs=ln,hs=mn,ws=pn,bs=dn,xs=C,Es=R,ks=v,As=D,Os=q,Ss=W,Ts=fn,Is=hn,js=wn,Ns=H,Fs=M,$s=bn,Ks=xn,Ls={string:(n,t)=>()=>A(n,t),number:(n,t)=>()=>O(n,t),array:(n,t)=>()=>S(n,t),object:(n,t)=>()=>T(n,t),element:(n,t)=>()=>I(n,t),boolean:(n,t)=>()=>j(n,t),date:(n,t)=>()=>N(n,t),null:(n,t)=>()=>F(n,t),undefined:(n,t)=>()=>$(n,t),present:(n,t)=>()=>k(n,t),exist:(n,t)=>()=>k(n,t),exists:(n,t)=>()=>k(n,t),stringNotEmpty:(n,t)=>()=>K(n,t),stringHasLength:(n,t,r)=>()=>z(n,t,r),stringMinLength:(n,t,r)=>()=>G(n,t,r),stringMaxLength:(n,t,r)=>()=>Y(n,t,r),stringLengthBetween:(n,t,r,a)=>()=>_(n,t,r,a),stringContains:(n,t,r)=>()=>Z(n,t,r),stringStartsWith:(n,t,r)=>()=>Q(n,t,r),stringEndsWith:(n,t,r)=>()=>X(n,t,r),stringMatches:(n,t,r)=>()=>nn(n,t,r),stringEqualsIgnoreCase:(n,t,r)=>()=>tn(n,t,r),stringIncludesAny:(n,t,r)=>()=>en(n,t,r),stringIncludesAll:(n,t,r)=>()=>rn(n,t,r),stringIsJSON:(n,t)=>()=>L(n,t),stringTrimmedNotEmpty:(n,t)=>()=>U(n,t),stringOneOf:(n,t,r)=>()=>sn(n,t,r),stringEqualsIgnoreWhitespace:(n,t,r,a)=>()=>Sn(n,t,r,a),arrayNotEmpty:(n,t)=>()=>B(n,t),arrayHasLength:(n,t,r)=>()=>on(n,t,r),arrayHasAnyOf:(n,t,r)=>()=>an(n,t,r),arrayHasEveryOf:(n,t,r)=>()=>un(n,t,r),arrayItemIsBoolean:(n,t,r)=>()=>cn(n,t,r),arrayItemIsString:(n,t,r)=>()=>gn(n,t,r),arrayItemIsNumber:(n,t,r)=>()=>yn(n,t,r),arrayItemIsObject:(n,t,r)=>()=>ln(n,t,r),arrayIncludesString:(n,t,r)=>()=>mn(n,t,r),arrayIncludesNumber:(n,t,r)=>()=>pn(n,t,r),arrayIncludesObject:(n,t,r)=>()=>dn(n,t,r),arrayOnlyStrings:(n,t)=>()=>C(n,t),arrayOnlyNumbers:(n,t)=>()=>R(n,t),arrayOnlyObjects:(n,t)=>()=>v(n,t),arrayEveryTruthy:(n,t)=>()=>D(n,t),arrayEveryFalsy:(n,t)=>()=>q(n,t),arrayUnique:(n,t)=>()=>W(n,t),objectHasKey:(n,t,r)=>()=>fn(n,t,r),objectHasKeys:(n,t,r)=>()=>hn(n,t,r),objectKeyEquals:(n,t,r,a)=>()=>wn(n,t,r,a),objectAllKeysSet:(n,t)=>()=>H(n,t),objectAnyKeyNull:(n,t)=>()=>M(n,t),objectKeysExactly:(n,t,r)=>()=>bn(n,t,r),elementIsChildOf:(n,t,r)=>()=>xn(n,t,r)},Kn=[{name:"isString",check:n=>A(n),category:"string"},{name:"stringNotEmpty",check:n=>K(n),category:"string"},{name:"stringIsJSON",check:n=>L(n),category:"string"},{name:"stringTrimmedNotEmpty",check:n=>U(n),category:"string"},{name:"isNumber",check:n=>O(n),category:"number"},{name:"isArray",check:n=>S(n),category:"array"},{name:"arrayNotEmpty",check:n=>B(n),category:"array"},{name:"arrayEveryTruthy",check:n=>D(n),category:"array"},{name:"arrayEveryFalsy",check:n=>q(n),category:"array"},{name:"arrayOnlyStrings",check:n=>C(n),category:"array"},{name:"arrayOnlyNumbers",check:n=>R(n),category:"array"},{name:"arrayOnlyObjects",check:n=>v(n),category:"array"},{name:"arrayUnique",check:n=>W(n),category:"array"},{name:"isObject",check:n=>T(n),category:"object"},{name:"objectAllKeysSet",check:n=>H(n),category:"object"},{name:"objectAnyKeyNull",check:n=>M(n),category:"object"},{name:"isBoolean",check:n=>j(n),category:"boolean"},{name:"isDate",check:n=>N(n),category:"date"},{name:"isElement",check:n=>I(n),category:"element"}];function Ht(n,t){return(!t||t.length===0?Kn:Kn.filter(a=>t.some(c=>typeof c=="string"?a.name===c:c.test(a.name)))).map(a=>{try{return a.check(n),{name:a.name,passed:!0}}catch(c){return{name:a.name,passed:!1,error:String(c)}}})}function Bs(n,t){return Ht(n,t)}function Cs(n){let t=n?.keys??"subset";return{keys:t,checkValues:n?.checkValues??!0,numericTolerance:n?.numericTolerance??0,stringSimilarityThreshold:n?.stringSimilarityThreshold??-1,trimStrings:n?.trimStrings??!0,caseInsensitiveStrings:n?.caseInsensitiveStrings??!1,arrayOrderMatters:n?.arrayOrderMatters??t==="exact",allowExtraArrayItems:n?.allowExtraArrayItems??!0}}function Rn(n,t){let r=t.trimStrings?n.trim():n;return t.caseInsensitiveStrings&&(r=r.toLowerCase()),r}function Rs(n,t){let r=n.length,a=t.length;if(r===0&&a===0)return 1;let c=Array.from({length:r+1},()=>new Array(a+1));for(let i=0;i<=r;i++)c[i][0]=i;for(let i=0;i<=a;i++)c[0][i]=i;for(let i=1;i<=r;i++)for(let h=1;h<=a;h++){let b=n[i-1]===t[h-1]?0:1;c[i][h]=Math.min(c[i-1][h]+1,c[i][h-1]+1,c[i-1][h-1]+b)}let o=c[r][a],f=Math.max(r,a);return 1-o/f}function vn(n,t,r){return!isFinite(n)||!isFinite(t)?n===t:Math.abs(n-t)<=r}function Dn(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function vs(n,t,r){if(r.arrayOrderMatters){if(!r.allowExtraArrayItems&&n.length!==t.length||n.length<t.length)return!1;for(let a=0;a<t.length;a++)if(!On(n[a],t[a],r))return!1;return!0}else{if(n.length<t.length)return!1;let a=new Array(n.length).fill(!1);n:for(let c of t){for(let o=0;o<n.length;o++)if(!a[o]&&On(n[o],c,r)){a[o]=!0;continue n}return!1}return!(!r.allowExtraArrayItems&&a.filter(Boolean).length!==n.length)}}function Ds(n,t,r){let a=Object.keys(n),c=Object.keys(t);if(r.keys==="exact"){if(a.length!==c.length)return!1;for(let o of c)if(!(o in n))return!1}else for(let o of c)if(!(o in n))return!1;if(!r.checkValues)return!0;for(let o of c)if(!On(n[o],t[o],r))return!1;return!0}function On(n,t,r){let a=Cs(r);if(n===t)return!0;if(t==null)return n===t;let c=n instanceof Date,o=t instanceof Date;if(c||o){let f=c?n.getTime():n,i=o?t.getTime():t;return typeof f!="number"||typeof i!="number"?!1:vn(f,i,a.numericTolerance)}if(typeof n=="number"&&typeof t=="number")return vn(n,t,a.numericTolerance);if(typeof n=="string"&&typeof t=="string"){let f=Rn(n,a),i=Rn(t,a);return a.stringSimilarityThreshold>=0?Rs(f,i)>=a.stringSimilarityThreshold:f===i}return typeof n=="boolean"&&typeof t=="boolean"?n===t:Array.isArray(n)&&Array.isArray(t)?vs(n,t,a):Dn(n)&&Dn(t)?Ds(n,t,a):!1}function qs(n,t,r){let a={keys:"exact",checkValues:!0,numericTolerance:1e-9,stringSimilarityThreshold:.9,trimStrings:!0,caseInsensitiveStrings:!1,arrayOrderMatters:!0,allowExtraArrayItems:!1,...r||{}};return On(n,t,a)}var Hs={isString:A,isNumber:O,isArray:S,isObject:T,isElement:I,isBoolean:j,isDate:N,isNull:F,notNull:J,isUndefined:$,notUndefined:V,notNullOrUndefined:k,stringNotEmpty:K,stringHasLength:z,stringMinLength:G,stringMaxLength:Y,stringLengthBetween:_,stringContains:Z,stringStartsWith:Q,stringEndsWith:X,stringMatches:nn,stringEqualsIgnoreCase:tn,stringIncludesAny:en,stringIncludesAll:rn,stringIsJSON:L,stringTrimmedNotEmpty:U,stringOneOf:sn,isBase64:Bn,arrayNotEmpty:B,arrayHasLength:on,arrayHasAnyOf:an,arrayHasEveryOf:un,arrayItemIsBoolean:cn,arrayItemIsString:gn,arrayItemIsNumber:yn,arrayItemIsObject:ln,arrayIncludesString:mn,arrayIncludesNumber:pn,arrayIncludesObject:dn,arrayOnlyStrings:C,arrayOnlyNumbers:R,arrayOnlyObjects:v,arrayEveryTruthy:D,arrayEveryFalsy:q,arrayUnique:W,objectHasKey:fn,objectHasKeys:hn,objectKeyEquals:wn,objectAllKeysSet:H,objectAnyKeyNull:M,objectKeysExactly:bn,elementIsChildOf:xn},Ms={string:Un,number:Wn,array:Pn,object:Jn,element:Vn,boolean:zn,date:Gn,null:Yn,notNull:_n,undefined:Zn,notUndefined:Qn,present:Xn,stringNotEmpty:nt,stringHasLength:tt,stringMinLength:et,stringMaxLength:rt,stringLengthBetween:st,stringContains:ot,stringStartsWith:it,stringEndsWith:at,stringMatches:ut,stringEqualsIgnoreCase:ct,stringIncludesAny:gt,stringIncludesAll:yt,stringIsJSON:lt,stringTrimmedNotEmpty:mt,stringOneOf:pt,stringEqualsIgnoreWhitespace:dt,arrayNotEmpty:ft,arrayHasLength:ht,arrayHasAnyOf:wt,arrayHasEveryOf:bt,arrayItemIsBoolean:xt,arrayItemIsString:Et,arrayItemIsNumber:kt,arrayItemIsObject:At,arrayIncludesString:Ot,arrayIncludesNumber:St,arrayIncludesObject:Tt,arrayOnlyStrings:It,arrayOnlyNumbers:jt,arrayOnlyObjects:Nt,arrayEveryTruthy:Ft,arrayEveryFalsy:$t,arrayUnique:Kt,objectHasKey:Lt,objectHasKeys:Bt,objectKeyEquals:Ct,objectAllKeysSet:Rt,objectAnyKeyNull:vt,objectKeysExactly:Dt,elementIsChildOf:qt};return Vt(Us);})();
