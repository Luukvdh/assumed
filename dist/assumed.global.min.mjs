"use strict";var assumed=(()=>{var Tt=Object.defineProperty;var ve=Object.getOwnPropertyDescriptor;var tr=Object.getOwnPropertyNames;var er=Object.prototype.hasOwnProperty;var rr=(t,e)=>{for(var n in e)Tt(t,n,{get:e[n],enumerable:!0})},nr=(t,e,n,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let u of tr(e))!er.call(t,u)&&u!==n&&Tt(t,u,{get:()=>e[u],enumerable:!(a=ve(e,u))||a.enumerable});return t};var sr=t=>nr(Tt({},"__esModule",{value:!0}),t);var Xs={};rr(Xs,{AssumingBus:()=>Nt,AssumptionError:()=>$t,IsArray:()=>dr,IsBoolean:()=>br,IsDate:()=>wr,IsElement:()=>Er,IsNull:()=>Sr,IsNumber:()=>hr,IsObject:()=>xr,IsString:()=>mr,IsUndefined:()=>Or,NotNull:()=>Ar,NotNullOrUndefined:()=>jr,NotUndefined:()=>Ir,assertArrayEveryFalsy:()=>W,assertArrayEveryTruthy:()=>D,assertArrayHasAnyOf:()=>ct,assertArrayHasEveryOf:()=>ut,assertArrayHasLength:()=>at,assertArrayIncludesNumber:()=>mt,assertArrayIncludesObject:()=>ht,assertArrayIncludesString:()=>gt,assertArrayItemIsBoolean:()=>lt,assertArrayItemIsNumber:()=>ft,assertArrayItemIsObject:()=>pt,assertArrayItemIsString:()=>yt,assertArrayNotEmpty:()=>q,assertArrayOnlyNumbers:()=>C,assertArrayOnlyObjects:()=>U,assertArrayOnlyStrings:()=>M,assertArrayUnique:()=>R,assertElementIsChildOf:()=>It,assertIsArray:()=>I,assertIsBase64:()=>Nr,assertIsBoolean:()=>$,assertIsDate:()=>B,assertIsElement:()=>N,assertIsNull:()=>k,assertIsNumber:()=>O,assertIsObject:()=>j,assertIsString:()=>A,assertIsUndefined:()=>L,assertNever:()=>gr,assertNotNull:()=>z,assertNotNullOrUndefined:()=>S,assertNotUndefined:()=>Y,assertObjectAllKeysSet:()=>F,assertObjectAnyKeyNull:()=>J,assertObjectHasKey:()=>dt,assertObjectHasKeys:()=>xt,assertObjectKeyEquals:()=>Et,assertObjectKeysExactly:()=>bt,assertStringContains:()=>X,assertStringEndsWith:()=>tt,assertStringEqualsIgnoreCase:()=>rt,assertStringEqualsIgnoreWhitespace:()=>it,assertStringHasLength:()=>_,assertStringIncludesAll:()=>st,assertStringIncludesAny:()=>nt,assertStringIsJSON:()=>H,assertStringLengthBetween:()=>Q,assertStringMatches:()=>et,assertStringMaxLength:()=>Z,assertStringMinLength:()=>G,assertStringNotEmpty:()=>T,assertStringOneOf:()=>ot,assertStringStartsWith:()=>v,assertStringTrimmedNotEmpty:()=>P,assertions:()=>Zs,assertionsCatalog:()=>Ht,assume:()=>cr,assumedRoute:()=>pr,assuming:()=>y,assumingBus:()=>wt,assureAll:()=>Qs,assureArray:()=>Qt,assureArrayEveryFalsy:()=>Ue,assureArrayEveryTruthy:()=>Ce,assureArrayHasAnyOf:()=>Ie,assureArrayHasEveryOf:()=>je,assureArrayHasLength:()=>Oe,assureArrayIncludesNumber:()=>Ke,assureArrayIncludesObject:()=>Te,assureArrayIncludesString:()=>Le,assureArrayItemIsBoolean:()=>Ne,assureArrayItemIsNumber:()=>Be,assureArrayItemIsObject:()=>ke,assureArrayItemIsString:()=>$e,assureArrayNotEmpty:()=>Ae,assureArrayOnlyNumbers:()=>qe,assureArrayOnlyObjects:()=>Me,assureArrayOnlyStrings:()=>He,assureArrayUnique:()=>De,assureBoolean:()=>te,assureDate:()=>ee,assureElement:()=>vt,assureNotNull:()=>ne,assureNotUndefined:()=>oe,assureNull:()=>re,assureNumber:()=>Zt,assureObject:()=>Xt,assureObjectAllKeysSet:()=>Pe,assureObjectAnyKeyNull:()=>Re,assureObjectHasKey:()=>We,assureObjectHasKeys:()=>Fe,assureObjectKeyEquals:()=>Je,assureObjectKeysExactly:()=>Ve,assurePresent:()=>ie,assureString:()=>Gt,assureStringContains:()=>fe,assureStringEndsWith:()=>ge,assureStringEqualsIgnoreCase:()=>he,assureStringEqualsIgnoreWhitespace:()=>Se,assureStringHasLength:()=>ce,assureStringIncludesAll:()=>xe,assureStringIncludesAny:()=>de,assureStringIsJSON:()=>Ee,assureStringLengthBetween:()=>ye,assureStringMatches:()=>me,assureStringMaxLength:()=>le,assureStringMinLength:()=>ue,assureStringNotEmpty:()=>ae,assureStringOneOf:()=>we,assureStringStartsWith:()=>pe,assureStringTrimmedNotEmpty:()=>be,assureUndefined:()=>se,captureLocation:()=>ar,clearAssumeHistory:()=>lr,defRefHandler:()=>qt,defRefHandlerAsync:()=>Bt,expectArray:()=>kr,expectBoolean:()=>Kr,expectDate:()=>Tr,expectElement:()=>Hr,expectNotNullOrUndefined:()=>qr,expectNumber:()=>Br,expectObject:()=>Lr,expectString:()=>$r,getAssumeHistory:()=>ur,isAlotLike:()=>Gs,isAssumptionError:()=>Yt,isBase64:()=>Mt,isLike:()=>Ot,mustBe:()=>Rs,mustBeArray:()=>_n,mustBeArrayEveryFalsy:()=>qs,mustBeArrayEveryTruthy:()=>Hs,mustBeArrayHasAnyOf:()=>Ss,mustBeArrayHasEveryOf:()=>As,mustBeArrayHasLength:()=>ws,mustBeArrayIncludesNumber:()=>Bs,mustBeArrayIncludesObject:()=>ks,mustBeArrayIncludesString:()=>$s,mustBeArrayItemIsBoolean:()=>Os,mustBeArrayItemIsNumber:()=>js,mustBeArrayItemIsObject:()=>Ns,mustBeArrayItemIsString:()=>Is,mustBeArrayNotEmpty:()=>bs,mustBeArrayOnlyNumbers:()=>Ks,mustBeArrayOnlyObjects:()=>Ts,mustBeArrayOnlyStrings:()=>Ls,mustBeArrayUnique:()=>Ms,mustBeBoolean:()=>Qn,mustBeDate:()=>Xn,mustBeElement:()=>Zn,mustBeElementIsChildOf:()=>Ps,mustBeNull:()=>vn,mustBeNumber:()=>Yn,mustBeObject:()=>Gn,mustBeObjectAllKeysSet:()=>Ws,mustBeObjectAnyKeyNull:()=>Fs,mustBeObjectHasKey:()=>Cs,mustBeObjectHasKeys:()=>Us,mustBeObjectKeyEquals:()=>Ds,mustBeObjectKeysExactly:()=>Js,mustBePresent:()=>es,mustBeString:()=>zn,mustBeStringContains:()=>us,mustBeStringEndsWith:()=>ys,mustBeStringEqualsIgnoreCase:()=>ps,mustBeStringEqualsIgnoreWhitespace:()=>Es,mustBeStringHasLength:()=>os,mustBeStringIncludesAll:()=>ms,mustBeStringIncludesAny:()=>gs,mustBeStringIsJSON:()=>hs,mustBeStringLengthBetween:()=>cs,mustBeStringMatches:()=>fs,mustBeStringMaxLength:()=>as,mustBeStringMinLength:()=>is,mustBeStringNotEmpty:()=>ss,mustBeStringOneOf:()=>xs,mustBeStringStartsWith:()=>ls,mustBeStringTrimmedNotEmpty:()=>ds,mustBeUndefined:()=>ts,mustExist:()=>ns,mustExists:()=>rs,report:()=>_e,reportAssertions:()=>Ye,safeToAssume:()=>ir,setAssumeHistoryLimit:()=>yr,sureArray:()=>Ur,sureArrayEveryFalsy:()=>jn,sureArrayEveryTruthy:()=>In,sureArrayHasAnyOf:()=>pn,sureArrayHasEveryOf:()=>gn,sureArrayHasLength:()=>fn,sureArrayIncludesNumber:()=>bn,sureArrayIncludesObject:()=>wn,sureArrayIncludesString:()=>En,sureArrayItemIsBoolean:()=>mn,sureArrayItemIsNumber:()=>dn,sureArrayItemIsObject:()=>xn,sureArrayItemIsString:()=>hn,sureArrayNotEmpty:()=>yn,sureArrayOnlyNumbers:()=>An,sureArrayOnlyObjects:()=>On,sureArrayOnlyStrings:()=>Sn,sureArrayUnique:()=>Nn,sureBoolean:()=>Fr,sureDate:()=>Jr,sureElement:()=>Wr,sureElementIsChildOf:()=>ze,sureIsArray:()=>Mn,sureIsBoolean:()=>Dn,sureIsDate:()=>Wn,sureIsElement:()=>Un,sureIsNull:()=>Fn,sureIsNumber:()=>qn,sureIsObject:()=>Cn,sureIsString:()=>Hn,sureIsUndefined:()=>Jn,sureNotNil:()=>Pn,sureNotNull:()=>Rr,sureNotNullBound:()=>Rn,sureNotUndefined:()=>zr,sureNotUndefinedBound:()=>Vn,sureNull:()=>Pr,sureNumber:()=>Cr,sureObject:()=>Dr,sureObjectAllKeysSet:()=>Ln,sureObjectAnyKeyNull:()=>Kn,sureObjectHasKey:()=>$n,sureObjectHasKeys:()=>Bn,sureObjectKeyEquals:()=>kn,sureObjectKeysExactly:()=>Tn,surePresent:()=>Yr,sureString:()=>Mr,sureStringContains:()=>vr,sureStringEndsWith:()=>en,sureStringEqualsIgnoreCase:()=>nn,sureStringEqualsIgnoreWhitespace:()=>ln,sureStringHasLength:()=>Gr,sureStringIncludesAll:()=>on,sureStringIncludesAny:()=>sn,sureStringIsJSON:()=>an,sureStringLengthBetween:()=>Xr,sureStringMatches:()=>rn,sureStringMaxLength:()=>Qr,sureStringMinLength:()=>Zr,sureStringNotEmpty:()=>_r,sureStringOneOf:()=>un,sureStringStartsWith:()=>tn,sureStringTrimmedNotEmpty:()=>cn,sureUndefined:()=>Vr,that:()=>f});var jt=["unknown","string","number","array","object","element","datetime","boolean","null","undefined","present"],Nt=class extends EventTarget{map=new Map;on(e,n){let a=this.map.get(e)??new Set;return a.add(n),this.map.set(e,a),()=>this.off(e,n)}off(e,n){let a=this.map.get(e);a&&(a.delete(n),a.size===0&&this.map.delete(e))}once(e,n){let a=this.on(e,u=>{a();try{n(u)}catch{}});return a}emit(e,n){let a=this.map.get(e);if(a)for(let u of Array.from(a))try{u(n)}catch{}}addEventListener(e,n,a){this.on(e,n)}dispatchEvent(e){return this.emit(e.type,e),!0}removeEventListener(e,n,a){this.off(e,n)}},wt=new Nt;function or(t,e){return e==null?t:typeof e=="string"?{...t,message:e}:{...t,...e}}function y(...t){let e={quiet:!1,message:"Assumption failed"};if(t.length){let l=t[t.length-1];(typeof l=="string"||l&&typeof l=="object"&&typeof l!="function"&&typeof l!="boolean")&&(e=or(e,l),t.pop())}let n=[],a=t.filter(l=>l!=null&&(typeof l=="function"||typeof l=="boolean")).map(l=>{if(typeof l=="function"){try{let m=l.raw?.()??l.value?.();m!==void 0&&n.push(m)}catch{}return l}return()=>l}),u,o=!1;try{for(let l of a)if(l()===!1){o=!0;break}}catch(l){o=!0,u=l}let h=[],i=!1,x=()=>{if(!i){wt.emit(o?"assuming:fail":"assuming:pass"),wt.emit(o?"assume:refuted":"assume:vindicated"),!o&&e.emit&&wt.emit(e.emit);for(let l of h){let m=!1;try{m=!!l.cond()}catch(b){console.error("emitOn predicate threw:",b)}if(m){let b;try{b=l.data?l.data():n.length>0?n[0]:void 0}catch(r){console.error("emitOn data producer threw:",r)}wt.emit(l.event,b)}}i=!0}};if(o&&!e.quiet){let l=e.message??(u instanceof Error?u.message:"Assumption failed");throw u instanceof Error?u:new Error(l)}let E,Ct=l=>l??e.message??(u instanceof Error?u.message:"Assumptions not satisfied"),w={emitOnPass(l,m){return h.push({cond:()=>!o,event:l,data:m===void 0?()=>n.length>0?n[0]:void 0:typeof m=="function"?m:()=>m}),w},emitOnFail(l,m){return h.push({cond:()=>o,event:l,data:m===void 0?()=>n.length>0?n[0]:void 0:typeof m=="function"?m:()=>m}),w},emitOn(l,m,b){let r=typeof l=="function"?l:()=>!!l,s=b===void 0?()=>n.length>0?n[0]:void 0:typeof b=="function"?b:()=>b;return h.push({cond:r,event:m,data:s}),w},Run(l){return x(),o||(E=l()),w},RunWithValue(l){return x(),o||(E=l(E)),w},value(){return x(),E},returnBoolean(){return x(),!o},onRefuted(l){return x(),o&&(E=l(u)),w},onVindicated(l){return x(),o||(E=l()),w},unless(l,m){return x(),(typeof l=="function"?!!l():!!l)||(E=m()),w},catch(l){return x(),o&&(E=l(u)),w},eitherOr(l,m,b){e.quiet=!0,x();let r=n.length>0?n[0]:void 0;if(!o)return E=l(r);if(m&&!u)return E=m(r);if(b)return E=b(u)},result(l,m){if(x(),!o)return E=l();if(m)return E=m(u)},status(){return x(),{failed:o,error:u,lastResult:E}},message(l){return e.message=l,w},quiet(l=!0){return e.quiet=l,w},options(){return{...e}}};return w}function ir(...t){try{return t.length===1&&typeof t[0]=="function"?(t[0](),!0):(y(...t),!0)}catch(e){return console.log("Well... that assumption turned out to be unfounded:",e.message),!1}}var St=[],Vt=200;function V(t){St.push(t),St.length>Vt&&St.shift()}function zt(t){try{return t==null?String(t):typeof t=="string"?t.length>120?t.slice(0,117)+"...":t:typeof t=="number"||typeof t=="boolean"?String(t):Array.isArray(t)?`Array(${t.length})`:typeof t=="object"?`{${Object.keys(t).slice(0,6).join(",")}${Object.keys(t).length>6?",\u2026":""}}`:typeof t}catch{return}}var ar=(()=>{let t=new Error().stack;if(t)return t.split(`
`).find(a=>a.includes("at ")&&!a.includes("assume.js")&&!a.includes("assume.ts"))?.trim().replace("at ","")||"unknown"})(),$t=class extends Error{name="AssumptionError";assumeStack;valuePreview;timestamp;cause;chainTrace;captureLocation;constructor(e,n){super(e),Object.setPrototypeOf(this,new.target.prototype),this.assumeStack=n.stack,this.valuePreview=zt(n.value),this.timestamp=Date.now(),this.cause=n.cause,this.chainTrace=n.chainTrace||[],this.captureLocation=n.captureLocation,this.message=this.buildRichMessage(e,n.inferenceText)}buildRichMessage(e,n){let a=[`AssumptionError: ${e}`];return this.valuePreview&&a.push(`Value: ${this.valuePreview}`),this.chainTrace.length>0&&a.push(`Chain: ${this.chainTrace.join(" \u2192 ")}`),this.captureLocation&&a.push(`Created at: ${this.captureLocation}`),n&&a.push(n),a.join(`
  `)}};function Yt(t){return!!t&&typeof t=="object"&&t.name==="AssumptionError"}function _t(t){let e=[],n=[],a=(()=>{try{let r=new Error().stack;if(r)return r.split(`
`).find(p=>p.includes("at ")&&!p.includes("assume.js")&&!p.includes("assume.ts"))?.trim().replace("at ","")||"unknown"}catch{}})();V({t:Date.now(),kind:"start",info:{valuePreview:zt(t)}});let u=()=>{try{for(let r of e)r.check();return V({t:Date.now(),kind:"vindicated"}),!0}catch(r){return V({t:Date.now(),kind:"refuted",info:{message:String(r)}}),!1}},o=function(){return u()};function h(r){return r===null?"null":Array.isArray(r)?"Array":typeof r=="object"?r.constructor?.name||"Object":typeof r}let i=(r,s="unknown",c)=>{if(c){let g=h(t);n.push(`${g}.${c}`)}let p=()=>{try{r(),V({t:Date.now(),kind:"check",info:{type:s,op:c}})}catch(g){if(Yt(g))throw V({t:Date.now(),kind:"refuted",info:{message:g.message}}),g;let d;try{let Ut=_e(t),Lt=Ut.filter(K=>K.passed).map(K=>K.name),Kt=Ut.filter(K=>!K.passed).map(K=>K.name),Dt=Lt.slice(0,4).join(", "),Wt=Kt.slice(0,3).join(", "),Ge=Lt.length>4?`, +${Lt.length-4} more`:"",Ze=Kt.length>3?`, +${Kt.length-3} more`:"",Qe=Dt?`Pass: [${Dt}${Ge}]`:"",Xe=Wt?`Fail: [${Wt}${Ze}]`:"",Ft=[Qe,Xe].filter(Boolean).join("; ");Ft&&(d=`Inferred: ${Ft}`)}catch{}let kt=new $t(g instanceof Error?g.message:String(g),{stack:e.slice(),value:t,cause:g,chainTrace:n.slice(),captureLocation:a,inferenceText:d});throw console.log("\u{1F4F0} ASSUMPTION ERROR:",kt.message),V({t:Date.now(),kind:"refuted",info:{message:kt.message}}),kt}};e.push({check:p,type:s,methodName:c})};Object.assign(o,{or(r,s){let c=e.splice(0);return i(()=>{let p=!0;try{for(let d of c)d.check()}catch{p=!1}if(p)return;let g=!0;try{typeof r=="function"?r()===!1&&(g=!1):g=!!r}catch(d){throw d}if(!g)throw new Error(s??"Assumption failed (or)")},"unknown","or"),o},andGuard(r,s){return i(()=>{if(!r(t))throw new Error(s??"Assumption failed (andGuard)")},"unknown","andGuard"),o},and(r,s){return i(()=>{let c=!0;if(typeof r=="function"){let p=r;try{p()===!1&&(c=!1)}catch(g){throw g}}else c=!!r;if(!c)throw new Error(s??"Assumption failed (and)")},"unknown","and"),o},that(r,s){return i(()=>{if(!r(t))throw new Error(s??"Assumption failed")},"unknown","that"),o},instanceof(r,s){let c=typeof r=="function",p=c?s:r;if(c){let g=r;return i(()=>{if(!(t instanceof g))throw new Error(p??"Assumption failed: value is not instance of expected")},jt.find(d=>d===h(t))||jt.find(d=>d===typeof t)||"unknown",`instanceof(${g.name||"Constructor"})`),o}else return i(()=>{if(typeof t!="object"||t===null)throw new Error(p??"Expected constructor instance")},jt.find(g=>g===h(t))||jt.find(g=>g===typeof t)||"unknown","instanceof('base')"),o},equals(r,s){return i(()=>{if(t!==r)throw new Error(s??"Assumption failed: value !== expected")},"unknown",`equals(${JSON.stringify(r)})`),o},value(){if(!o())throw new Error("Assumption failed");return t},commit(){return this.value()}}),Object.defineProperty(o,"it",{get(){return o.value()},enumerable:!1,configurable:!1}),Object.defineProperty(o,"$",{get(){return o.value()},enumerable:!1,configurable:!1}),o.raw=()=>t;let E=()=>Object.assign(o,{greaterThan(r,s){return i(()=>{if(!(t>r))throw new Error(s??`Expected > ${r}`)},"number",`greaterThan(${r})`),o},greaterOrEqual(r,s){return i(()=>{if(!(t>=r))throw new Error(s??`Expected >= ${r}`)},"number",`greaterOrEqual(${r})`),o},lessThan(r,s){return i(()=>{if(!(t<r))throw new Error(s??`Expected < ${r}`)},"number",`lessThan(${r})`),o},lessOrEqual(r,s){return i(()=>{if(!(t<=r))throw new Error(s??`Expected <= ${r}`)},"number",`lessOrEqual(${r})`),o},between(r,s,c){return i(()=>{let p=t;if(!(p>=r&&p<=s))throw new Error(c??`Expected between ${r} and ${s}`)},"number",`between(${r},${s})`),o}}),Ct=()=>Object.assign(o,{notEmpty(r){return i(()=>{if(String(t).length===0)throw new Error(r??"Expected non-empty string")},"string","notEmpty"),o},lengthMustBe(r,s){return i(()=>{if(String(t).length!==r)throw new Error(s??`Expected length ${r}`)},"string",`lengthMustBe(${r})`),o},lengthAtLeast(r,s){return i(()=>{if(String(t).length<r)throw new Error(s??`Expected length >= ${r}`)},"string",`lengthAtLeast(${r})`),o},lengthAtMost(r,s){return i(()=>{if(String(t).length>r)throw new Error(s??`Expected length <= ${r}`)},"string",`lengthAtMost(${r})`),o},hasLength(r,s){return this.lengthMustBe(r,s)},minLength(r,s){return this.lengthAtLeast(r,s)},maxLength(r,s){return this.lengthAtMost(r,s)},lengthBetween(r,s,c){return i(()=>{let p=String(t).length;if(p<r||p>s)throw new Error(c??`Expected length between ${r} and ${s}`)},"string",`lengthBetween(${r},${s})`),o},contains(r,s){return i(()=>{let c=String(t);if(!(typeof r=="string"?c.includes(r):r.test(c)))throw new Error(s??`Expected to contain ${String(r)}`)},"string",`contains(${typeof r=="string"?`"${r}"`:r.toString()})`),o},startsWith(r,s){return i(()=>{if(!String(t).startsWith(r))throw new Error(s??`Expected to start with "${r}"`)},"string",`startsWith("${r}")`),o},endsWith(r,s){return i(()=>{if(!String(t).endsWith(r))throw new Error(s??`Expected to end with "${r}"`)},"string",`endsWith("${r}")`),o},matches(r,s){return i(()=>{if(!r.test(String(t)))throw new Error(s??`Expected to match ${r}`)},"string",`matches(${r.toString()})`),o},equalsIgnoreCase(r,s){return i(()=>{if(String(t).toLowerCase()!==r.toLowerCase())throw new Error(s??`Expected "${r}" (case-insensitive)`)},"string",`equalsIgnoreCase("${r}")`),o},includesAny(...r){return i(()=>{let s=String(t);if(!r.some(c=>s.includes(c)))throw new Error(`Expected any of [${r.join(", ")}]`)},"string",`includesAny(${r.map(s=>`"${s}"`).join(",")})`),o},includesAll(...r){return i(()=>{let s=String(t);if(!r.every(c=>s.includes(c)))throw new Error(`Expected all of [${r.join(", ")}]`)},"string",`includesAll(${r.map(s=>`"${s}"`).join(",")})`),o},isJSON(r){return i(()=>{try{JSON.parse(String(t))}catch{throw new Error(r??"Expected valid JSON")}},"string","isJSON"),o},trimmedNotEmpty(r){return i(()=>{if(String(t).trim().length===0)throw new Error(r??"Expected non-empty (trimmed)")},"string","trimmedNotEmpty"),o}}),w=()=>Object.assign(o,{lengthMustBe(r,s){return i(()=>{if(t.length!==r)throw new Error(s??`Expected array length ${r}`)},"array",`lengthMustBe(${r})`),o},hasLength(r,s){return this.lengthMustBe(r,s)},notEmpty(r){return i(()=>{if(t.length===0)throw new Error(r??"Expected non-empty array")},"array","notEmpty"),o},hasAnyOf(r,s){return i(()=>{let c=t,p=new Set(r);if(!c.some(d=>p.has(String(d))||p.has(d)))throw new Error(s??`Expected array to contain any of [${r.join(", ")}]`)},"array",`hasAnyOf([${r.length}])`),o},hasEveryOf(r,s){return i(()=>{let c=t,p=new Set(c.map(d=>typeof d=="string"?d:String(d))),g=r.filter(d=>!p.has(d));if(g.length>0)throw new Error(s??`Missing required items: [${g.join(", ")}]`)},"array",`hasEveryOf([${r.length}])`),o},hasAllOf(r,s){return this.hasEveryOf(r,s)},itemIsBoolean(r,s){return i(()=>{if(typeof t[r]!="boolean")throw new Error(s??`Expected boolean at ${r}`)},"array",`itemIsBoolean(${r})`),o},itemIsString(r,s){return i(()=>{if(typeof t[r]!="string")throw new Error(s??`Expected string at ${r}`)},"array",`itemIsString(${r})`),o},itemIsNumber(r,s){return i(()=>{if(typeof t[r]!="number")throw new Error(s??`Expected number at ${r}`)},"array",`itemIsNumber(${r})`),o},itemIsObject(r,s){return i(()=>{let c=t[r];if(typeof c!="object"||c===null||Array.isArray(c))throw new Error(s??`Expected object at ${r}`)},"array",`itemIsObject(${r})`),o},includesString(r,s){return i(()=>{if(!t.some(c=>String(c).includes(r)))throw new Error(s??`Expected string including "${r}"`)},"array",`includesString("${r}")`),o},includesNumber(r,s){return i(()=>{if(!t.some(c=>c===r))throw new Error(s??`Expected number including "${r}"`)},"array",`includesNumber(${r})`),o},includesObject(r,s){return i(()=>{if(!t.some(c=>JSON.stringify(c)===JSON.stringify(r)))throw new Error(s??`Expected object including "${JSON.stringify(r)}"`)},"array",`includesObject(${JSON.stringify(r)})`),o},onlyHasObjects(r){return i(()=>{if(!t.every(s=>typeof s=="object"&&s!==null&&!Array.isArray(s)))throw new Error(r??"Expected all objects")},"array","onlyHasObjects"),o},onlyHasStrings(r){return i(()=>{if(!t.every(s=>typeof s=="string"))throw new Error(r??"Expected all strings")},"array","onlyHasStrings"),o},onlyHasNumbers(r){return i(()=>{if(!t.every(s=>typeof s=="number"))throw new Error(r??"Expected all numbers")},"array","onlyHasNumbers"),o},everyIsFalsy(r){return i(()=>{if(!t.every(s=>!s))throw new Error(r??"Expected all falsy")},"array","everyIsFalsy"),o},everyIsTruthy(r){return i(()=>{if(!t.every(s=>!!s))throw new Error(r??"Expected all truthy")},"array","everyIsTruthy"),o},includesCondition(r,s){return i(()=>{if(!t.some(r))throw new Error(s??"Expected array to include condition")},"array","includesCondition"),o}}),l=()=>Object.assign(o,{hasKey(r,s){return i(()=>{if(!(r in t))throw new Error(s??`Expected key "${r}"`)},"object",`hasKey("${r}")`),o},hasKeys(...r){return i(()=>{for(let s of r)if(!(s in t))throw new Error(`Expected key "${s}"`)},"object",`hasKeys(${r.map(s=>`"${s}"`).join(",")})`),o},keyEquals(r,s,c){return i(()=>{if(t[r]!==s)throw new Error(c??`Expected ${r} === ${String(s)}`)},"object",`keyEquals("${r}",${JSON.stringify(s)})`),o},sameKeys(r,s){return i(()=>{let c=Object.keys(t),p=Object.keys(r);if(c.length!==p.length)throw new Error(s??"Key count mismatch");for(let g of p)if(!(g in t))throw new Error(s??`Missing key "${g}"`)},"object","sameKeys"),o},allKeysFalsy(r){return i(()=>{for(let s in t)if(t[s])throw new Error(r??`Key "${s}" not falsy`)},"object","allKeysFalsy"),o},allKeysSet(r){return i(()=>{for(let s in t)if(t[s]===void 0)throw new Error(r??`Key "${s}" unset`)},"object","allKeysSet"),o},anyKeyNull(r){return i(()=>{let s=!1;for(let c in t)if(t[c]===null){s=!0;break}if(!s)throw new Error(r??"No null key")},"object","anyKeyNull"),o}}),m=()=>Object.assign(o,{hasChildren(r){return i(()=>{let s=t;if(typeof Element>"u"||!(s instanceof Element)||s.childElementCount===0)throw new Error(r??"Expected child elements")},"element","hasChildren"),o},hasChild(r){return i(()=>{let s=t;if(typeof Element>"u"||!(s instanceof Element)||s.childElementCount===0)throw new Error(r??"Expected child elements")},"element","hasChild"),o},hasChildMatching(r,s){return i(()=>{let c=t;if(typeof Element>"u"||!(c instanceof Element)||!c.querySelector(r))throw new Error(s??`Missing child "${r}"`)},"element",`hasChildMatching("${r}")`),o},hasDescendant(r,s){return i(()=>{let c=t;if(typeof Element>"u"||!(c instanceof Element)||!c.querySelector(r))throw new Error(s??`Missing descendant "${r}"`)},"element",`hasDescendant("${r}")`),o},hasAttribute(r,s){return i(()=>{let c=t;if(typeof Element>"u"||!(c instanceof Element)||!c.hasAttribute(r))throw new Error(s??`Missing attribute "${r}"`)},"element",`hasAttribute("${r}")`),o},attributeEquals(r,s,c){return i(()=>{let p=t;if(typeof Element>"u"||!(p instanceof Element)||p.getAttribute(r)!==s)throw new Error(c??`Attr "${r}" != "${s}"`)},"element",`attributeEquals("${r}","${s}")`),o}});return o.isNumber=r=>(i(()=>{if(typeof t!="number")throw new Error(r??"Expected number")},"number","isNumber"),E()),o.isString=r=>(i(()=>{if(typeof t!="string")throw new Error(r??"Expected string")},"string","isString"),Ct()),o.isArray=r=>(i(()=>{if(!Array.isArray(t))throw new Error(r??"Expected array")},"array","isArray"),w()),o.isObject=r=>(i(()=>{if(typeof t!="object"||t===null||Array.isArray(t))throw new Error(r??"Expected object")},"object","isObject"),l()),o.isElement=r=>(i(()=>{if(typeof Element>"u"||!(t instanceof Element))throw new Error(r??"Expected Element")},"element","isElement"),m()),o.isDate=r=>(i(()=>{if(!(t instanceof Date))throw new Error(r??"Expected Date instance")},"datetime","isDate"),b()),o.isBoolean=r=>(i(()=>{if(typeof t!="boolean")throw new Error(r??"Expected boolean")},"boolean","isBoolean"),o),o.isNull=r=>(i(()=>{if(t!==null)throw new Error(r??"Expected null")},"null","isNull"),o),o.isUndefined=r=>(i(()=>{if(t!==void 0)throw new Error(r??"Expected undefined")},"undefined","isUndefined"),o),o.notNil=r=>(i(()=>{if(t==null)throw new Error(r??"Expected value (not null/undefined)")},"present","notNil"),o),o.notNull=r=>(i(()=>{if(t===null)throw new Error(r??"Expected not null")},"present","notNull"),o),o.notNullOrUndefined=r=>(i(()=>{if(t==null)throw new Error(r??"Expected value (not null/undefined)")},"present","notNullOrUndefined"),o),o;function b(){return Object.assign(o,{earlier(r,s){return i(()=>{let c=t.getTime(),p=typeof r=="number"?r:r.getTime();if(!(c<p))throw new Error(s??`Expected earlier than ${new Date(p).toISOString()}`)},"datetime",`earlier(${typeof r=="number"?r:r.toISOString()})`),o},later(r,s){return i(()=>{let c=t.getTime(),p=typeof r=="number"?r:r.getTime();if(!(c>p))throw new Error(s??`Expected later than ${new Date(p).toISOString()}`)},"datetime",`later(${typeof r=="number"?r:r.toISOString()})`),o},isYear(r,s){return i(()=>{if(t.getFullYear()!==r)throw new Error(s??`Expected year ${r}`)},"datetime",`isYear(${r})`),o},wasBefore(r,s){return i(()=>{let c=t.getTime(),p=typeof r=="number"?r:r.getTime();if(!(c<p))throw new Error(s??`Expected before ${new Date(p).toISOString()}`)},"datetime",`wasBefore(${typeof r=="number"?r:r.toISOString()})`),o},daysAgoExceeds(r,s){return i(()=>{let c=Date.now(),p=t.getTime();if(!((c-p)/(1e3*60*60*24)>r))throw new Error(s??`Expected more than ${r} days ago`)},"datetime",`daysAgoExceeds(${r})`),o},daysSinceAtLeast(r,s){return i(()=>{let c=Date.now(),p=t.getTime();if(!((c-p)/(1e3*60*60*24)>=r))throw new Error(s??`Expected at least ${r} days since`)},"datetime",`daysSinceAtLeast(${r})`),o}})}}function f(t){return _t(t)}function cr(t){return _t(t)}function ur(){return St.slice()}function lr(){St.length=0}function yr(t){Vt=Math.max(0,t|0)}function fr(t){return t.displayName||t.name||"anonymous"}function At(t,e){let n=fr(e);if(t&&typeof t=="object")try{t.handlerName=n,t.message&&typeof t.message=="string"&&(t.message=`[${n}] ${t.message}`)}catch{}return t}function qt(t,e=!1){return n=>(console.error(n),At(n,qt),e&&(typeof e=="function"?e:console.error)(n),t)}function Bt(t,e=!1){return async n=>(At(n,Bt),console.error(n),e&&(typeof e=="function"?e:console.error)(n),t)}function pr(t,e,n=!1){return(...a)=>{try{let u=e(...a);if(u&&typeof u.then=="function"){let o=Bt(t,n);return u.catch(h=>o(At(h,e)))}return u}catch(u){return e?.constructor?.name==="AsyncFunction"?Bt(t,n)(At(u,e)):qt(t,n)(At(u,e))}}}function A(t,e){y(f(t).isString(),e)}function O(t,e){y(f(t).isNumber(),e)}function I(t,e){y(f(t).isArray(),e)}function j(t,e){y(f(t).isObject(),e)}function N(t,e){y(f(t).isElement(),e)}function $(t,e){y(f(t).isBoolean(),e)}function B(t,e){y(f(t).isDate(),e)}function k(t,e){y(f(t).isNull(),e)}function z(t,e){y(f(t).notNull(),e)}function L(t,e){y(f(t).isUndefined(),e)}function Y(t,e){y(f(t).notNullOrUndefined(),e)}function S(t,e){y(f(t).notNullOrUndefined(),e)}function gr(t,e){throw new Error(e??`Unexpected value: ${String(t)}`)}var mr=A,hr=O,dr=I,xr=j,Er=N,br=$,wr=B,Sr=k,Ar=z,Or=L,Ir=Y,jr=S,Gt=A,Zt=O,Qt=I,Xt=j,vt=N,te=$,ee=B,re=k,ne=z,se=L,oe=Y,ie=S;function T(t,e){y(f(t).isString().notEmpty(),e)}function _(t,e,n){y(f(t).isString().hasLength(e),n)}function G(t,e,n){y(f(t).isString().minLength(e),n)}function Z(t,e,n){y(f(t).isString().maxLength(e),n)}function Q(t,e,n,a){y(f(t).isString().lengthBetween(e,n),a)}function X(t,e,n){y(f(t).isString().contains(e),n)}function v(t,e,n){y(f(t).isString().startsWith(e),n)}function tt(t,e,n){y(f(t).isString().endsWith(e),n)}function et(t,e,n){y(f(t).isString().matches(e),n)}function rt(t,e,n){y(f(t).isString().equalsIgnoreCase(e),n)}function nt(t,e,n){y(f(t).isString().includesAny(...e),n)}function st(t,e,n){y(f(t).isString().includesAll(...e),n)}function H(t,e){y(f(t).isString().isJSON(),e)}function ot(t,e,n){y(f(t).isString().that(a=>e.includes(a),n??`Expected one of [${e.join(", ")}]`),n)}function it(t,e,n=!1,a){y(f(t).isString().that(u=>{let o=h=>n?h.replace(/\s+/g,""):h.trim();return o(u)===o(e)},a??`Expected string to equal (ignoring ${n?"all whitespace":"edges"})`),a)}function Mt(t,e){let n=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;y(f(t).isString().that(a=>n.test(a),e??"Expected Base64 string"),e)}var Nr=Mt;function q(t,e){y(f(t).isArray().notEmpty(),e)}function at(t,e,n){y(f(t).isArray().hasLength(e),n)}function ct(t,e,n){y(f(t).isArray().hasAnyOf(e),n)}function ut(t,e,n){y(f(t).isArray().hasEveryOf(e),n)}function lt(t,e,n){y(f(t).isArray().itemIsBoolean(e),n)}function yt(t,e,n){y(f(t).isArray().itemIsString(e),n)}function ft(t,e,n){y(f(t).isArray().itemIsNumber(e),n)}function pt(t,e,n){y(f(t).isArray().itemIsObject(e),n)}function gt(t,e,n){y(f(t).isArray().includesString(e),n)}function mt(t,e,n){y(f(t).isArray().includesNumber(e),n)}function ht(t,e,n){y(f(t).isArray().includesObject(e),n)}function M(t,e){y(f(t).isArray().onlyHasStrings(),e)}function C(t,e){y(f(t).isArray().onlyHasNumbers(),e)}function U(t,e){y(f(t).isArray().onlyHasObjects(),e)}function D(t,e){y(f(t).isArray().everyIsTruthy(),e)}function W(t,e){y(f(t).isArray().everyIsFalsy(),e)}function dt(t,e,n){y(f(t).isObject().hasKey(e),n)}function xt(t,e,n){y(f(t).isObject().hasKeys(...e),n)}function Et(t,e,n,a){y(f(t).isObject().keyEquals(e,n),a)}function F(t,e){y(f(t).isObject().allKeysSet(),e)}function J(t,e){y(f(t).isObject().anyKeyNull(),e)}function bt(t,e,n){let a=Object.fromEntries(e.map(u=>[u,!0]));y(f(t).isObject().sameKeys(a),n)}function It(t,e,n){y(f(t).isElement().that(a=>{let u=a;if(typeof e=="string")return!!u.closest(e);let o=u;for(;o;){if(o===e)return!0;o=o.parentElement}return!1},n??"Expected element to be a descendant of parent"),n)}var ae=T,ce=_,ue=G,le=Z,ye=Q,fe=X,pe=v,ge=tt,me=et,he=rt,de=nt,xe=st,Ee=H,be=P,we=ot,Se=it,Ae=q,Oe=at,Ie=ct,je=ut,Ne=lt,$e=yt,Be=ft,ke=pt,Le=gt,Ke=mt,Te=ht,He=M,qe=C,Me=U,Ce=D,Ue=W,De=R,We=dt,Fe=xt,Je=Et,Pe=F,Re=J,Ve=bt;function P(t,e){y(f(t).isString().that(n=>n.trim().length>0,e??"Expected non-empty (trimmed)"),e)}function R(t,e){y(f(t).isArray().that(n=>new Set(n).size===n.length,e??"Expected array items to be unique"),e)}function $r(t,e){return A(t,e),t}function Br(t,e){return O(t,e),t}function kr(t,e){return I(t,e),t}function Lr(t,e){return j(t,e),t}function Kr(t,e){return $(t,e),t}function Tr(t,e){return B(t,e),t}function Hr(t,e){return N(t,e),t}function qr(t,e){return S(t,e),t}var Mr=A,Cr=O,Ur=I,Dr=j,Wr=N,Fr=$,Jr=B,Pr=k,Rr=z,Vr=L,zr=Y,Yr=S,_r=T,Gr=_,Zr=G,Qr=Z,Xr=Q,vr=X,tn=v,en=tt,rn=et,nn=rt,sn=nt,on=st,an=H,cn=P,un=ot,ln=it,yn=q,fn=at,pn=ct,gn=ut,mn=lt,hn=yt,dn=ft,xn=pt,En=gt,bn=mt,wn=ht,Sn=M,An=C,On=U,In=D,jn=W,Nn=R,$n=dt,Bn=xt,kn=Et,Ln=F,Kn=J,Tn=bt,ze=It,Hn=(t,e)=>()=>A(t,e),qn=(t,e)=>()=>O(t,e),Mn=(t,e)=>()=>I(t,e),Cn=(t,e)=>()=>j(t,e),Un=(t,e)=>()=>N(t,e),Dn=(t,e)=>()=>$(t,e),Wn=(t,e)=>()=>B(t,e),Fn=(t,e)=>()=>k(t,e),Jn=(t,e)=>()=>L(t,e),Pn=(t,e)=>()=>S(t,e),Rn=(t,e)=>()=>z(t,e),Vn=(t,e)=>()=>Y(t,e),zn=A,Yn=O,_n=I,Gn=j,Zn=N,Qn=$,Xn=B,vn=k,ts=L,es=S,rs=S,ns=S,ss=T,os=_,is=G,as=Z,cs=Q,us=X,ls=v,ys=tt,fs=et,ps=rt,gs=nt,ms=st,hs=H,ds=P,xs=ot,Es=it,bs=q,ws=at,Ss=ct,As=ut,Os=lt,Is=yt,js=ft,Ns=pt,$s=gt,Bs=mt,ks=ht,Ls=M,Ks=C,Ts=U,Hs=D,qs=W,Ms=R,Cs=dt,Us=xt,Ds=Et,Ws=F,Fs=J,Js=bt,Ps=It,Rs={string:(t,e)=>()=>A(t,e),number:(t,e)=>()=>O(t,e),array:(t,e)=>()=>I(t,e),object:(t,e)=>()=>j(t,e),element:(t,e)=>()=>N(t,e),boolean:(t,e)=>()=>$(t,e),date:(t,e)=>()=>B(t,e),null:(t,e)=>()=>k(t,e),undefined:(t,e)=>()=>L(t,e),present:(t,e)=>()=>S(t,e),exist:(t,e)=>()=>S(t,e),exists:(t,e)=>()=>S(t,e),stringNotEmpty:(t,e)=>()=>T(t,e),stringHasLength:(t,e,n)=>()=>_(t,e,n),stringMinLength:(t,e,n)=>()=>G(t,e,n),stringMaxLength:(t,e,n)=>()=>Z(t,e,n),stringLengthBetween:(t,e,n,a)=>()=>Q(t,e,n,a),stringContains:(t,e,n)=>()=>X(t,e,n),stringStartsWith:(t,e,n)=>()=>v(t,e,n),stringEndsWith:(t,e,n)=>()=>tt(t,e,n),stringMatches:(t,e,n)=>()=>et(t,e,n),stringEqualsIgnoreCase:(t,e,n)=>()=>rt(t,e,n),stringIncludesAny:(t,e,n)=>()=>nt(t,e,n),stringIncludesAll:(t,e,n)=>()=>st(t,e,n),stringIsJSON:(t,e)=>()=>H(t,e),stringTrimmedNotEmpty:(t,e)=>()=>P(t,e),stringOneOf:(t,e,n)=>()=>ot(t,e,n),stringEqualsIgnoreWhitespace:(t,e,n,a)=>()=>it(t,e,n,a),arrayNotEmpty:(t,e)=>()=>q(t,e),arrayHasLength:(t,e,n)=>()=>at(t,e,n),arrayHasAnyOf:(t,e,n)=>()=>ct(t,e,n),arrayHasEveryOf:(t,e,n)=>()=>ut(t,e,n),arrayItemIsBoolean:(t,e,n)=>()=>lt(t,e,n),arrayItemIsString:(t,e,n)=>()=>yt(t,e,n),arrayItemIsNumber:(t,e,n)=>()=>ft(t,e,n),arrayItemIsObject:(t,e,n)=>()=>pt(t,e,n),arrayIncludesString:(t,e,n)=>()=>gt(t,e,n),arrayIncludesNumber:(t,e,n)=>()=>mt(t,e,n),arrayIncludesObject:(t,e,n)=>()=>ht(t,e,n),arrayOnlyStrings:(t,e)=>()=>M(t,e),arrayOnlyNumbers:(t,e)=>()=>C(t,e),arrayOnlyObjects:(t,e)=>()=>U(t,e),arrayEveryTruthy:(t,e)=>()=>D(t,e),arrayEveryFalsy:(t,e)=>()=>W(t,e),arrayUnique:(t,e)=>()=>R(t,e),objectHasKey:(t,e,n)=>()=>dt(t,e,n),objectHasKeys:(t,e,n)=>()=>xt(t,e,n),objectKeyEquals:(t,e,n,a)=>()=>Et(t,e,n,a),objectAllKeysSet:(t,e)=>()=>F(t,e),objectAnyKeyNull:(t,e)=>()=>J(t,e),objectKeysExactly:(t,e,n)=>()=>bt(t,e,n),elementIsChildOf:(t,e,n)=>()=>It(t,e,n)},Ht=[{name:"isString",check:t=>A(t),category:"string"},{name:"stringNotEmpty",check:t=>T(t),category:"string"},{name:"stringIsJSON",check:t=>H(t),category:"string"},{name:"stringTrimmedNotEmpty",check:t=>P(t),category:"string"},{name:"isNumber",check:t=>O(t),category:"number"},{name:"isArray",check:t=>I(t),category:"array"},{name:"arrayNotEmpty",check:t=>q(t),category:"array"},{name:"arrayEveryTruthy",check:t=>D(t),category:"array"},{name:"arrayEveryFalsy",check:t=>W(t),category:"array"},{name:"arrayOnlyStrings",check:t=>M(t),category:"array"},{name:"arrayOnlyNumbers",check:t=>C(t),category:"array"},{name:"arrayOnlyObjects",check:t=>U(t),category:"array"},{name:"arrayUnique",check:t=>R(t),category:"array"},{name:"isObject",check:t=>j(t),category:"object"},{name:"objectAllKeysSet",check:t=>F(t),category:"object"},{name:"objectAnyKeyNull",check:t=>J(t),category:"object"},{name:"isBoolean",check:t=>$(t),category:"boolean"},{name:"isDate",check:t=>B(t),category:"date"},{name:"isElement",check:t=>N(t),category:"element"}];function Ye(t,e){return(!e||e.length===0?Ht:Ht.filter(a=>e.some(u=>typeof u=="string"?a.name===u:u.test(a.name)))).map(a=>{try{return a.check(t),{name:a.name,passed:!0}}catch(u){return{name:a.name,passed:!1,error:u instanceof Error?u.message:String(u)}}})}function _e(t,e){return Ye(t,e)}function Vs(t){let e=t?.keys??"subset";return{keys:e,checkValues:t?.checkValues??!0,numericTolerance:t?.numericTolerance??0,stringSimilarityThreshold:t?.stringSimilarityThreshold??-1,trimStrings:t?.trimStrings??!0,caseInsensitiveStrings:t?.caseInsensitiveStrings??!1,arrayOrderMatters:t?.arrayOrderMatters??e==="exact",allowExtraArrayItems:t?.allowExtraArrayItems??!0}}function Jt(t,e){let n=e.trimStrings?t.trim():t;return e.caseInsensitiveStrings&&(n=n.toLowerCase()),n}function zs(t,e){let n=t.length,a=e.length;if(n===0&&a===0)return 1;let u=Array.from({length:n+1},()=>new Array(a+1));for(let i=0;i<=n;i++)u[i][0]=i;for(let i=0;i<=a;i++)u[0][i]=i;for(let i=1;i<=n;i++)for(let x=1;x<=a;x++){let E=t[i-1]===e[x-1]?0:1;u[i][x]=Math.min(u[i-1][x]+1,u[i][x-1]+1,u[i-1][x-1]+E)}let o=u[n][a],h=Math.max(n,a);return 1-o/h}function Pt(t,e,n){return!isFinite(t)||!isFinite(e)?t===e:Math.abs(t-e)<=n}function Rt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function Ys(t,e,n){if(n.arrayOrderMatters){if(!n.allowExtraArrayItems&&t.length!==e.length||t.length<e.length)return!1;for(let a=0;a<e.length;a++)if(!Ot(t[a],e[a],n))return!1;return!0}else{if(t.length<e.length)return!1;let a=new Array(t.length).fill(!1);t:for(let u of e){for(let o=0;o<t.length;o++)if(!a[o]&&Ot(t[o],u,n)){a[o]=!0;continue t}return!1}return!(!n.allowExtraArrayItems&&a.filter(Boolean).length!==t.length)}}function _s(t,e,n){let a=Object.keys(t),u=Object.keys(e);if(n.keys==="exact"){if(a.length!==u.length)return!1;for(let o of u)if(!(o in t))return!1}else for(let o of u)if(!(o in t))return!1;if(!n.checkValues)return!0;for(let o of u)if(!Ot(t[o],e[o],n))return!1;return!0}function Ot(t,e,n){let a=Vs(n);if(t===e)return!0;if(e==null)return t===e;let u=t instanceof Date,o=e instanceof Date;if(u||o){let h=u?t.getTime():t,i=o?e.getTime():e;return typeof h!="number"||typeof i!="number"?!1:Pt(h,i,a.numericTolerance)}if(typeof t=="number"&&typeof e=="number")return Pt(t,e,a.numericTolerance);if(typeof t=="string"&&typeof e=="string"){let h=Jt(t,a),i=Jt(e,a);return a.stringSimilarityThreshold>=0?zs(h,i)>=a.stringSimilarityThreshold:h===i}return typeof t=="boolean"&&typeof e=="boolean"?t===e:Array.isArray(t)&&Array.isArray(e)?Ys(t,e,a):Rt(t)&&Rt(e)?_s(t,e,a):!1}function Gs(t,e,n){let a={keys:"exact",checkValues:!0,numericTolerance:1e-9,stringSimilarityThreshold:.9,trimStrings:!0,caseInsensitiveStrings:!1,arrayOrderMatters:!0,allowExtraArrayItems:!1,...n||{}};return Ot(t,e,a)}var Zs={isString:A,isNumber:O,isArray:I,isObject:j,isElement:N,isBoolean:$,isDate:B,isNull:k,notNull:z,isUndefined:L,notUndefined:Y,notNullOrUndefined:S,stringNotEmpty:T,stringHasLength:_,stringMinLength:G,stringMaxLength:Z,stringLengthBetween:Q,stringContains:X,stringStartsWith:v,stringEndsWith:tt,stringMatches:et,stringEqualsIgnoreCase:rt,stringIncludesAny:nt,stringIncludesAll:st,stringIsJSON:H,stringTrimmedNotEmpty:P,stringOneOf:ot,stringEqualsIgnoreWhitespace:it,isBase64:Mt,arrayNotEmpty:q,arrayHasLength:at,arrayHasAnyOf:ct,arrayHasEveryOf:ut,arrayItemIsBoolean:lt,arrayItemIsString:yt,arrayItemIsNumber:ft,arrayItemIsObject:pt,arrayIncludesString:gt,arrayIncludesNumber:mt,arrayIncludesObject:ht,arrayOnlyStrings:M,arrayOnlyNumbers:C,arrayOnlyObjects:U,arrayEveryTruthy:D,arrayEveryFalsy:W,arrayUnique:R,objectHasKey:dt,objectHasKeys:xt,objectKeyEquals:Et,objectAllKeysSet:F,objectAnyKeyNull:J,objectKeysExactly:bt,elementIsChildOf:It},Qs={string:Gt,number:Zt,array:Qt,object:Xt,element:vt,boolean:te,date:ee,null:re,notNull:ne,undefined:se,notUndefined:oe,present:ie,stringNotEmpty:ae,stringHasLength:ce,stringMinLength:ue,stringMaxLength:le,stringLengthBetween:ye,stringContains:fe,stringStartsWith:pe,stringEndsWith:ge,stringMatches:me,stringEqualsIgnoreCase:he,stringIncludesAny:de,stringIncludesAll:xe,stringIsJSON:Ee,stringTrimmedNotEmpty:be,stringOneOf:we,stringEqualsIgnoreWhitespace:Se,arrayNotEmpty:Ae,arrayHasLength:Oe,arrayHasAnyOf:Ie,arrayHasEveryOf:je,arrayItemIsBoolean:Ne,arrayItemIsString:$e,arrayItemIsNumber:Be,arrayItemIsObject:ke,arrayIncludesString:Le,arrayIncludesNumber:Ke,arrayIncludesObject:Te,arrayOnlyStrings:He,arrayOnlyNumbers:qe,arrayOnlyObjects:Me,arrayEveryTruthy:Ce,arrayEveryFalsy:Ue,arrayUnique:De,objectHasKey:We,objectHasKeys:Fe,objectKeyEquals:Je,objectAllKeysSet:Pe,objectAnyKeyNull:Re,objectKeysExactly:Ve,elementIsChildOf:ze};return sr(Xs);})();
if(typeof globalThis.assumed==='undefined'){globalThis.assumed=assumed;}
