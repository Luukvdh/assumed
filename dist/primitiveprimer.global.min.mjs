"use strict";var primitivePrimer=(()=>{var d=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var j=Object.prototype.hasOwnProperty;var D=(t,e)=>{for(var r in e)d(t,r,{get:e[r],enumerable:!0})},I=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of P(e))!j.call(t,i)&&i!==r&&d(t,i,{get:()=>e[i],enumerable:!(n=A(e,i))||n.enumerable});return t};var U=t=>I(d({},"__esModule",{value:!0}),t);var z={};D(z,{applyPrimitives:()=>b,applyPrimitivesGlobally:()=>v});function o(t,e,r,n={enumerable:!1,configurable:!0,writable:!0}){e in t||Object.defineProperty(t,e,{value:r,...n})}function c(){let t=[["toHsp",function(){return this.replace(/\.\w{3}$/i,".hsp")}],["reverse",function(){return this.split("").reverse().join("")}],["toTitleCase",function(){return this.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())}],["words",function(){return this.match(/\b\w+\b/g)||[]}],["slashreverse",function(e){return e.replace(/[\\/]/g,r=>r==="\\"?"/":"\\")}],["slashwin",function(){return this.replace(/[\\/]/g,"\\")}],["slashlinux",function(){return this.replace(/[\\/]/g,"/")}],["strip",function(){return this.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"").trim()}],["containsAny",function(...e){return e.some(r=>this.includes(r))}],["toSlug",function(){return this.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"-").replace(/[^\w-]/g,"").replace(/--+/g,"-").replace(/^-+|-+$/g,"")}],["stripCompare",function(e){let r=n=>n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[\s_]/g,"").trim();return r(this).includes(r(e))}],["toWordCapitalized",function(){return this?this.charAt(0).toUpperCase()+this.slice(1).toLowerCase():""}],["truncate",function(e,r="\u2026"){return this.length>e?this.slice(0,e)+r:this.toString()}],["isJson",function(){try{return JSON.parse(this),!0}catch{return!1}}],["toCamelCase",function(){return this.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_",""))}],["safeParseJson",function(){try{return JSON.parse(this)}catch{return this.valueOf()}}],["nullParseJson",function(){if(!this.trim())return null;try{return JSON.parse(this)}catch{return null}}],["filenameCompare",function(e){let r=n=>n.replace(/\\/g,"/").split("/").pop()?.toLowerCase()??"";return r(this)===r(e)}],["substringFrom",function(e,r){let n=String(this);if(!e)return n;let i=n.indexOf(e);if(i===-1)return"";let s=i+e.length;if(!r)return n.slice(s);let u=n.indexOf(r,s);return u===-1?n.slice(s):n.slice(s,u)}]];for(let[e,r]of t)o(String.prototype,e,r)}function l(){o(Array.prototype,"first",function(t=1){return t===1?this[0]:this.slice(0,t)}),o(Array.prototype,"last",function(t=1){return t===1?this[this.length-1]:this.slice(-t)}),o(Array.prototype,"findByKey",function(t,e){for(let r of this)if(r[t]===e)return r;return null}),o(Array.prototype,"sumByKey",function(t){return this.reduce((e,r)=>e+(typeof r[t]=="number"?r[t]:0),0)}),o(Array.prototype,"autoParseKeys",function(){return this.map(t=>{if(t&&typeof t=="object"){for(let e in t)if(typeof t[e]=="string")try{t[e]=JSON.parse(t[e])}catch{}}return t})}),o(Array.prototype,"unique",function(){return[...new Set(this)]}),o(Array.prototype,"shuffle",function(){let t=[...this];for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}),o(Array.prototype,"highestByKey",function(t){return this.length?this.reduce((e,r)=>typeof r[t]=="number"&&r[t]>(e?.[t]??-1/0)?r:e):null}),o(Array.prototype,"lowestByKey",function(t){return this.length?this.reduce((e,r)=>typeof r[t]=="number"&&r[t]<(e?.[t]??1/0)?r:e):null}),o(Array.prototype,"sortByKey",function(t,e=!0){return[...this].sort((r,n)=>{let i=r[t]??0,s=n[t]??0;return e?i-s:s-i})}),o(Array.prototype,"sortByKeyName",function(t,e=!0){return[...this].sort((r,n)=>{let i=String(r[t]??""),s=String(n[t]??"");return e?i.localeCompare(s):s.localeCompare(i)})})}function p(){o(Number.prototype,"percentage",function(t){return this*t/100}),o(Number.prototype,"isEven",function(){return this%2===0}),o(Number.prototype,"isOdd",function(){return this%2!==0}),o(Number.prototype,"toFixedNumber",function(t=2){return parseFloat(this.toFixed(t))}),o(Number.prototype,"between",function(t,e){return this>=t&&this<=e}),o(Number.prototype,"clamp",function(t,e){return Math.min(Math.max(this,t),e)}),o(Number.prototype,"times",function(t){for(let e=0;e<this;e++)t(e)}),o(Number.prototype,"toStringWithLeadingZeros",function(t){return String(this).padStart(t,"0")}),o(Number.prototype,"toTimeCode",function(){let t=Math.floor(this),e=Math.floor(t/3600),r=Math.floor(t%3600/60),n=t%60;return`${e}:${r.toStringWithLeadingZeros(2)}:${n.toStringWithLeadingZeros(2)}`})}function h(){o(Object,"keysMap",function(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>e(r,n)))}),o(Object,"valuesMap",function(t,e){return Object.fromEntries(Object.entries(t).map(([r,n])=>[r,e(n,r)]))}),o(Object,"parseKeys",function(...t){let e=this.valueOf(),r={};for(let n of t)try{r[n]=JSON.parse(e[n])}catch{r[n]=e[n]}return e}),o(Array.prototype,"groupBy",function(t){return this.reduce((e,r)=>{let n=typeof t=="function"?t(r):r[t];return(e[n]||(e[n]=[])).push(r),e},{})}),o(Object.prototype,"sortKeys",function(t=null){return Object.fromEntries(Object.entries(this).sort(([e],[r])=>t?t(e,r):e.localeCompare(r)))})}var a={dom:{},initIDs(){document.querySelectorAll("[id]").forEach(e=>{try{a.dom[e.id]=e}catch{}})},measureElement(t){let e=t.cloneNode(!0);e.style.position="absolute",e.style.visibility="hidden",e.style.left="-9999px",e.style.top="-9999px",document.body.appendChild(e);let r=e.getBoundingClientRect(),n={width:r.width,height:r.height};return document.body.removeChild(e),n}};typeof self<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>a.initIDs()):a.initIDs(),globalThis.DOMUtils||(globalThis.DOMUtils=a));var y={randomRangeFloat(t,e){return Math.random()*(e-t)+t},randomRangeInt(t,e){return Math.floor(Math.random()*(e-t+1))+t},lerp(t,e,r){return t+(e-t)*r},clamp(t,e,r){return Math.min(Math.max(t,e),r)},degToRad(t){return t*(Math.PI/180)},radToDeg(t){return t*(180/Math.PI)},distance(t,e,r,n){return Math.hypot(r-t,n-e)},roundTo(t,e=2){return Math.round(t*10**e)/10**e},isPowerOfTwo(t){return t>0&&(t&t-1)===0},nextPowerOfTwo(t){return 2**Math.ceil(Math.log2(t))},normalize(t,e,r){return(t-e)/(r-e)},smoothStep(t,e,r){let n=Math.max(0,Math.min(1,(r-t)/(e-t)));return n*n*(3-2*n)},mix(t,e,r){return t*(1-r)+e*r},mixColors(t,e,r){let n=m=>m.replace("#","").padStart(6,"0"),[i,s]=[n(t),n(e)],[u,x,M]=[parseInt(i.slice(0,2),16),parseInt(i.slice(2,4),16),parseInt(i.slice(4,6),16)],[O,S,C]=[parseInt(s.slice(0,2),16),parseInt(s.slice(2,4),16),parseInt(s.slice(4,6),16)],w=Math.round(this.mix(u,O,r)),N=Math.round(this.mix(x,S,r)),T=Math.round(this.mix(M,C,r)),f=m=>m.toString(16).padStart(2,"0");return`#${f(w)}${f(N)}${f(T)}`}};function g(){let t=r=>r.replace(/\\/g,"/").replace(/\/{2,}/g,"/"),e="/";return{sep:e,normalize:t,join:(...r)=>t(r.filter(Boolean).join(e)),basename:r=>t(r).split("/").pop()||"",dirname:r=>{let n=t(r).split("/");return n.pop(),n.length?n.join("/"):"."},extname:r=>{let n=t(r).split("/").pop()||"",i=n.lastIndexOf(".");return i>0?n.slice(i):""}}}function b(){l(),p(),h(),c()}function v(){c(),l(),p(),h(),globalThis.MathUtils=y,!(typeof self>"u")&&(globalThis.DOMUtils||(globalThis.DOMUtils=a),globalThis.path||(globalThis.path=g()))}return U(z);})();
if(typeof globalThis.primitivePrimer==='undefined'){globalThis.primitivePrimer=primitivePrimer}; if(globalThis.AUTO_APPLY_PRIMITIVES!==false){try{primitivePrimer.applyPrimitivesGlobally()}catch(e){console.error('primitivePrimer.applyPrimitivesGlobally failed',e)}}
